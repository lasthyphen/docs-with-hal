(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{22738:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/cryptographic-primitives",function(){return n(69641)}])},69641:function(e,t,n){"use strict";n.r(t),n.d(t,{CH:function(){return a},Page:function(){return d},chCodeConfig:function(){return c},meta:function(){return h}});var r=n(52322),i=n(3905),s=n(65854),o=n(72499),a={annotations:s.ds,Code:s.EK},c={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"supabase",type:"from-css",tokenColors:[{scope:["comment","punctuation.definition.comment","string.comment"],settings:{foreground:"var(--ch-1)"}},{scope:["constant","entity.name.constant","variable.other.constant","variable.other.enummember","variable.language","entity"],settings:{foreground:"var(--ch-2)"}},{scope:["entity.name","meta.export.default","meta.definition.variable"],settings:{foreground:"var(--ch-3)"}},{scope:["variable.parameter.function","meta.jsx.children","meta.block","meta.tag.attributes","entity.name.constant","meta.object.member","meta.embedded.expression"],settings:{foreground:"var(--ch-4)"}},{scope:"entity.name.function",settings:{foreground:"var(--ch-5)"}},{scope:["entity.name.tag","support.class.component"],settings:{foreground:"var(--ch-6)"}},{scope:"keyword",settings:{foreground:"var(--ch-7)"}},{scope:["storage","storage.type"],settings:{foreground:"var(--ch-7)"}},{scope:["storage.modifier.package","storage.modifier.import","storage.type.java"],settings:{foreground:"var(--ch-4)"}},{scope:["string","string punctuation.section.embedded source"],settings:{foreground:"var(--ch-8)"}},{scope:"support",settings:{foreground:"var(--ch-2)"}},{scope:"meta.property-name",settings:{foreground:"var(--ch-2)"}},{scope:"variable",settings:{foreground:"var(--ch-3)"}},{scope:"variable.other",settings:{foreground:"var(--ch-4)"}},{scope:"invalid.broken",settings:{foreground:"var(--ch-9)",fontStyle:"italic"}},{scope:"invalid.deprecated",settings:{foreground:"var(--ch-9)",fontStyle:"italic"}},{scope:"invalid.illegal",settings:{foreground:"var(--ch-9)",fontStyle:"italic"}},{scope:"invalid.unimplemented",settings:{foreground:"var(--ch-9)",fontStyle:"italic"}},{scope:"carriage-return",settings:{background:"var(--ch-7)",foreground:"var(--ch-10)",fontStyle:"italic underline"}},{scope:"message.error",settings:{foreground:"var(--ch-9)"}},{scope:"string variable",settings:{foreground:"var(--ch-2)"}},{scope:["source.regexp","string.regexp"],settings:{foreground:"var(--ch-8)"}},{scope:["string.regexp.character-class","string.regexp constant.character.escape","string.regexp source.ruby.embedded","string.regexp string.regexp.arbitrary-repitition"],settings:{foreground:"var(--ch-8)"}},{scope:"string.regexp constant.character.escape",settings:{foreground:"var(--ch-6)",fontStyle:"bold"}},{scope:"support.constant",settings:{foreground:"var(--ch-2)"}},{scope:"support.variable",settings:{foreground:"var(--ch-2)"}},{scope:"support.type.property-name.json",settings:{foreground:"var(--ch-6)"}},{scope:"meta.module-reference",settings:{foreground:"var(--ch-2)"}},{scope:"punctuation.definition.list.begin.markdown",settings:{foreground:"var(--ch-3)"}},{scope:["markup.heading","markup.heading entity.name"],settings:{foreground:"var(--ch-2)",fontStyle:"bold"}},{scope:"markup.quote",settings:{foreground:"var(--ch-6)"}},{scope:"markup.italic",settings:{foreground:"var(--ch-4)",fontStyle:"italic"}},{scope:"markup.bold",settings:{foreground:"var(--ch-4)",fontStyle:"bold"}},{scope:["markup.underline"],settings:{fontStyle:"underline"}},{scope:["markup.strikethrough"],settings:{fontStyle:"strikethrough"}},{scope:"markup.inline.raw",settings:{foreground:"var(--ch-2)"}},{scope:["markup.deleted","meta.diff.header.from-file","punctuation.definition.deleted"],settings:{background:"var(--ch-11)",foreground:"var(--ch-9)"}},{scope:["punctuation.section.embedded"],settings:{foreground:"var(--ch-7)"}},{scope:["markup.inserted","meta.diff.header.to-file","punctuation.definition.inserted"],settings:{background:"var(--ch-12)",foreground:"var(--ch-6)"}},{scope:["markup.changed","punctuation.definition.changed"],settings:{background:"var(--ch-13)",foreground:"var(--ch-3)"}},{scope:["markup.ignored","markup.untracked"],settings:{background:"var(--ch-2)",foreground:"var(--ch-14)"}},{scope:"meta.diff.range",settings:{foreground:"var(--ch-5)",fontStyle:"bold"}},{scope:"meta.diff.header",settings:{foreground:"var(--ch-2)"}},{scope:"meta.separator",settings:{foreground:"var(--ch-2)",fontStyle:"bold"}},{scope:"meta.output",settings:{foreground:"var(--ch-2)"}},{scope:["brackethighlighter.tag","brackethighlighter.curly","brackethighlighter.round","brackethighlighter.square","brackethighlighter.angle","brackethighlighter.quote"],settings:{foreground:"var(--ch-15)"}},{scope:"brackethighlighter.unmatched",settings:{foreground:"var(--ch-9)"}},{scope:["constant.other.reference.link","string.other.link"],settings:{foreground:"var(--ch-8)",fontStyle:"underline"}}],colors:{"editor.background":"var(--ch-16)","editor.foreground":"var(--ch-4)","editor.selectionBackground":"var(--ch-17)","editor.infoForeground":"var(--ch-18)","editor.rangeHighlightBackground":"var(--ch-19)","editorLineNumber.foreground":"var(--ch-20)","tab.activeBackground":"var(--ch-16)","tab.inactiveBackground":"var(--ch-21)","tab.activeForeground":"var(--ch-4)","tab.inactiveForeground":"var(--ch-15)","tab.border":"var(--ch-22)","tab.activeBorder":"var(--ch-16)","tab.activeBorderTop":"var(--ch-23)","tab.hoverBackground":"var(--ch-16)","tab.hoverForeground":"var(--ch-15)","editorGroupHeader.tabsBorder":"var(--ch-22)","editorGroupHeader.tabsBackground":"var(--ch-21)","list.inactiveSelectionBackground":"var(--ch-24)","list.inactiveSelectionForeground":"var(--ch-4)","list.hoverBackground":"var(--ch-25)","list.hoverForeground":"var(--ch-4)"}},lineNumbers:!0,showCopyButton:!0,autoImport:!0,skipLanguages:[],filepath:"/Users/saleemfareed/Documents/hal-docs/apps/docs/pages/guides/cryptographic-primitives.mdx"},h={id:"cryptographic-primitives",title:"Cryptographic Primitives",description:"Cryptographic Primitives used by Dijets for different functions",sidebar_label:"Overview"},d=function(e){var t=e.children;return(0,r.jsx)(o.Z,{meta:h,children:t})},l=d;function g(e){var t=Object.assign({p:"p",h2:"h2",h3:"h3",code:"code",strong:"strong",a:"a",ul:"ul",li:"li",img:"img"},(0,i.ah)(),e.components),n=t.Admonition;return n||p("Admonition",!0),a||p("CH",!1),a.Code||p("CH.Code",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Dijets uses a variety of cryptographic primitives for its different\nfunctions. This file summarizes the type and kind of cryptography used at the\nnetwork and blockchain layers."}),"\n",(0,r.jsx)(t.h2,{id:"cryptography-in-the-network-layer",children:"Cryptography in the Network Layer"}),"\n",(0,r.jsx)(t.p,{children:"Dijets uses Transport Layer Security, TLS, to protect node-to-node\ncommunications from eavesdroppers. TLS combines the practicality of public-key\ncryptography with the efficiency of symmetric-key cryptography. This has\nresulted in TLS becoming the standard for internet communication. Whereas most\nclassical consensus protocols employ public-key cryptography to prove receipt of\nmessages to third parties, the novel HotStuff consensus family does not require\nsuch proofs. This enables Dijets to employ TLS in authenticating stakers and\neliminates the need for costly public-key cryptography for signing network\nmessages."}),"\n",(0,r.jsx)(t.h3,{id:"tls-certificates",children:"TLS Certificates"}),"\n",(0,r.jsx)(t.p,{children:"Dijets does not rely on any centralized third-parties, and in particular, it\ndoes not use certificates issued by third-party authenticators. All certificates\nused within the network layer to identify endpoints are self-signed, thus\ncreating a self-sovereign identity layer. No third parties are ever involved."}),"\n",(0,r.jsx)(t.h3,{id:"tls-addresses",children:"TLS Addresses"}),"\n",(0,r.jsx)(t.p,{children:"To avoid posting the full TLS certificate to the Platform chain, the certificate\nis first hashed. For consistency, Dijets employs the same hashing mechanism\nfor the TLS certificates as is used in Bitcoin. Namely, the DER representation\nof the certificate is hashed with sha256, and the result is then hashed with\nripemd160 to yield a 20-byte identifier for stakers."}),"\n",(0,r.jsx)(t.p,{children:'This 20-byte identifier is represented by "NodeID-" followed by the data\u2019s\nCB58 encoded\nstring.'}),"\n",(0,r.jsx)(t.h2,{id:"cryptography-in-dijets-virtual-machine",children:"Cryptography in Dijets Virtual Machine"}),"\n",(0,r.jsxs)(t.p,{children:["The Dijets virtual machine uses elliptic curve cryptography, specifically\n",(0,r.jsx)(t.code,{children:"secp256k1"}),", for its signatures on the blockchain."]}),"\n",(0,r.jsx)(t.p,{children:'This 32-byte identifier is represented by "PrivateKey-" followed by the data\u2019s\nCB58 encoded\nstring.'}),"\n",(0,r.jsx)(t.h3,{id:"secp256k1-addresses",children:"Secp256k1 Addresses"}),"\n",(0,r.jsx)(t.p,{children:"Dijets is not prescriptive about addressing schemes, choosing to instead\nleave addressing up to each blockchain."}),"\n",(0,r.jsxs)(t.p,{children:["The addressing scheme of the Value Chain and the Method Chain relies on secp256k1.\nDijets follows a similar approach as Bitcoin and hashes the ECDSA public key.\nThe 33-byte compressed representation of the public key is hashed with sha256\n",(0,r.jsx)(t.strong,{children:"once"}),". The result is then hashed with ripemd160 to yield a 20-byte address."]}),"\n",(0,r.jsxs)(t.p,{children:["Dijets uses the convention ",(0,r.jsx)(t.code,{children:"chainID-address"})," to specify which chain an\naddress exists on. ",(0,r.jsx)(t.code,{children:"chainID"})," may be replaced with an alias of the chain. When\ntransmitting information through external applications, the CB58 convention is\nrequired."]}),"\n",(0,r.jsx)(t.h3,{id:"bech32",children:"Bech32"}),"\n",(0,r.jsxs)(t.p,{children:["Addresses on the Value Chain and Method Chain use the\n",(0,r.jsx)(t.a,{href:"https://en.bitcoin.it/wiki/Bech32",children:"Bech32"})," standard\noutlined in ",(0,r.jsx)(t.a,{href:"https://en.bitcoin.it/wiki/BIP_0173",children:"BIP 0173"}),". There are four\nparts to a Bech32 address scheme. In order of appearance:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["A human-readable part (HRP). On Mainnet this is ",(0,r.jsx)(t.code,{children:"dijets"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["The number ",(0,r.jsx)(t.code,{children:"1"}),", which separates the HRP from the address and error correction code."]}),"\n",(0,r.jsx)(t.li,{children:"A base-32 encoded string representing the 20 byte address."}),"\n",(0,r.jsx)(t.li,{children:"A 6-character base-32 encoded error correction code."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"The following regular expression matches addresses on the Value Chain, Method Chain and\nUtility Chain for Mainnet, Testnet and localhost. Note that all valid Dijets addresses\nwill match this regular expression."}),"\n",(0,r.jsx)(a.Code,{codeConfig:c,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"^([XPC]|[a-km-zA-HJ-NP-Z1-9]{36,72})-[a-zA-Z]{1,83}1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]{38}$",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,r.jsx)(t.h3,{id:"secp256k1-recoverable-signatures",children:"Secp256k1 Recoverable Signatures"}),"\n",(0,r.jsxs)(t.p,{children:["Recoverable signatures are stored as the 65-byte ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"[R || S || V]"})})," where\n",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"V"})})," is 0 or 1 to allow quick public key recoverability. ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"S"})})," must be in\nthe lower half of the possible range to prevent signature malleability. Before\nsigning a message, the message is hashed using sha256."]}),"\n",(0,r.jsx)(t.h2,{id:"signed-messages",children:"Signed Messages"}),"\n",(0,r.jsx)(t.p,{children:"A standard for interoperable generic signed messages based on the Bitcoin Script\nformat and Ethereum format."}),"\n",(0,r.jsx)(a.Code,{codeConfig:c,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"sign(sha256(length(prefix) + prefix + length(message) + message))",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,r.jsxs)(t.p,{children:["The prefix is simply the string ",(0,r.jsx)(t.code,{children:"\\x1ADijets Signed Message:\\n"}),", where ",(0,r.jsx)(t.code,{children:"0x1A"}),"\nis the length of the prefix text and ",(0,r.jsx)(t.code,{children:"length(message)"})," is an\n",(0,r.jsx)(t.a,{href:"serialisation-primitives#integer",children:"integer"})," of the message size."]}),"\n",(0,r.jsx)(t.h3,{id:"example",children:"Example"}),"\n",(0,r.jsx)(t.p,{children:'As an example we will sign the message "Pen xen ole fren"'}),"\n",(0,r.jsx)(a.Code,{codeConfig:c,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"// prefix size: 26 bytes",props:{}}]},{tokens:[{content:"0x1a",props:{}}]},{tokens:[{content:"// prefix: Dijets Signed Message:\\n",props:{}}]},{tokens:[{content:"0x44 0x69 0x6a 0x65 0x74 0x73 0x20 0x53 0x69 0x67 0x6e 0x65 0x64 0x20 0x4d 0x65 0x73 0x73 0x61 0x67 0x65 0x3a 0x0a 0x0a 0x0a 0x0a",props:{}}]},{tokens:[{content:"// msg size: 16 bytes",props:{}}]},{tokens:[{content:"0x00 0x00 0x00 0x10",props:{}}]},{tokens:[{content:"// msg: Pen xen ole fren",props:{}}]},{tokens:[{content:"50 65 6e 20 78 65 6e 20 6f 6c 65 20 66 72 65 6e",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,r.jsxs)(t.p,{children:["After hashing with ",(0,r.jsx)(t.code,{children:"sha256"})," and signing the pre-image we return the value\ncb58 encoded:\n",(0,r.jsx)(t.code,{children:"q8LMFYywox2jtMhS7fusHKYoezYMhf1pZPe7fsUERkFYZyzAvADCfA5d4nd2i8WWyRiXxWjDyiXwZsx6zp3B47NUDvx5mD"}),".\nHere's an example using the ",(0,r.jsx)(t.a,{href:"https://wallet.dijets.io/wallet/advanced",children:"Dijets\nWallet"}),"."]}),"\n",(0,r.jsx)(n,{type:"info",children:(0,r.jsx)(t.p,{children:'You can use the Sign Message feature in Dijets Wallet by going clicking on the "Advanced" tab in menu.'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:"/docs/img/signed-message.png",alt:"Sign message"})}),"\n",(0,r.jsx)(t.h2,{id:"cryptography-in-ethereum-virtual-machine",children:"Cryptography in Ethereum Virtual Machine"}),"\n",(0,r.jsx)(t.p,{children:"Dijets nodes support the full Ethereum Virtual Machine (EVM) and precisely\nduplicates all of the cryptographic constructs used in Ethereum. This includes\nthe Keccak hash function and the other mechanisms used for cryptographic\nsecurity in the EVM."})]})}function p(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.jsx)(l,Object.assign({},e,{children:(0,r.jsx)(g,e)}))}}},function(e){e.O(0,[2331,2499,9774,2888,179],(function(){return t=22738,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
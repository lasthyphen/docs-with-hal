(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9533],{24470:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/nodes/staking",function(){return t(68098)}])},68098:function(e,n,t){"use strict";t.r(n),t.d(n,{Page:function(){return r},meta:function(){return s}});var a=t(52322),o=t(3905),i=t(72499),s={id:"nodes-validator-nodes",title:"Validator Nodes",description:"Understanding Realtime rate limiting",sidebar_label:"Rate Limits"},r=function(e){var n=e.children;return(0,a.jsx)(i.Z,{meta:s,children:n})},d=r;function l(e){var n=Object.assign({h1:"h1",p:"p",h2:"h2",strong:"strong",h3:"h3",ul:"ul",li:"li",code:"code",a:"a",h4:"h4"},(0,o.ah)(),e.components),t=n.Admonition;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Admonition",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"what-is-staking",children:"What Is Staking?"}),"\n",(0,a.jsx)(n.p,{children:"Staking is the process of locking up tokens to support a network while receiving\na reward in return (rewards can be increased network utility, monetary\ncompensation, etc.)"}),"\n",(0,a.jsx)(n.h2,{id:"how-does-proof-of-stake-work",children:"How Does Proof-of-Stake Work?"}),"\n",(0,a.jsx)(n.p,{children:"To resist sybil\nattacks\na decentralized network must require that network influence is paid with a\nscarce resource. This makes it infeasibly expensive for an attacker to gain\nenough influence over the network to compromise its security. In proof-of-work\nsystems, the scarce resource is computing power. On Dijets, the scarce\nresource is the native token,\nDJTX. For a node to\nvalidate\na blockchain on Dijets, it must stake DJTX."}),"\n",(0,a.jsx)(n.h2,{id:"staking-parameters-on-dijets",children:"Staking Parameters on Dijets"}),"\n",(0,a.jsx)(n.p,{children:"When a validator is done validating\nit receives back the DJTX tokens it staked. It may receive a reward for helping\nto secure the network. A validator only receives a validation\nreward\nif it is sufficiently responsive and correct during the time it validates."}),"\n",(0,a.jsx)(t,{type:"info",children:(0,a.jsxs)(n.p,{children:["Staking rewards are sent to your wallet address at the end of the staking term\n",(0,a.jsx)(n.strong,{children:"as long as all of these parameters are met"}),"."]})}),"\n",(0,a.jsx)(n.h3,{id:"mainnet",children:"Mainnet"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The minimum amount that a validator must stake is 2,000 DJTX"}),"\n",(0,a.jsx)(n.li,{children:"The minimum amount that a delegator must delegate is 25 DJTX"}),"\n",(0,a.jsx)(n.li,{children:"The minimum amount of time one can stake funds for validation is 2 weeks"}),"\n",(0,a.jsx)(n.li,{children:"The maximum amount of time one can stake funds for validation is 1 year"}),"\n",(0,a.jsx)(n.li,{children:"The minimum amount of time one can stake funds for delegation is 2 weeks"}),"\n",(0,a.jsx)(n.li,{children:"The maximum amount of time one can stake funds for delegation is 1 year"}),"\n",(0,a.jsx)(n.li,{children:"The minimum delegation fee rate is 2%"}),"\n",(0,a.jsx)(n.li,{children:"The maximum weight of a validator (their own stake + stake delegated to them)\nis the minimum of 3 million DJTX and 5 times the amount the validator staked.\nFor example, if you staked 2,000 DJTX to become a validator, only 8000 DJTX\ncan be delegated to your node total (not per delegator)"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["A validator will receive a staking reward if they are online and response for\nmore than 80% of their validation period, as measured by a majority of\nvalidators, weighted by stake. ",(0,a.jsx)(n.strong,{children:"You should aim for your validator be online and\nresponsive 100% of the time."})]}),"\n",(0,a.jsxs)(n.p,{children:["You can call API method ",(0,a.jsx)(n.code,{children:"info.uptime"})," on your node to learn its weighted uptime\nand what percentage of the network currently thinks your node has an uptime high\nenough to receive a staking reward."]}),"\n",(0,a.jsxs)(n.p,{children:["If\nyour reported uptime is not close to 100%, there may be something wrong with\nyour node setup, which may jeopardize your staking reward. If this is the case, contact us on\n",(0,a.jsx)(n.a,{href:"https://qowalts.dijets.io",children:"Qowalts"})," so we can help you find the issue. Note\nthat only checking the uptime of your validator as measured by non-staking\nnodes, validators with small stake, or validators that have not been online for\nthe full duration of your validation period can provide an inaccurate view of\nyour node's true uptime."]}),"\n",(0,a.jsx)(n.h3,{id:"dijets-testnet",children:"Dijets Testnet"}),"\n",(0,a.jsx)(n.p,{children:"On Dijets Testnet, all staking parameters are the same as those on Mainnet except the following ones:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The minimum amount that a validator must stake is 1 DJTX"}),"\n",(0,a.jsx)(n.li,{children:"The minimum amount that a delegator must delegate is 1 DJTX"}),"\n",(0,a.jsx)(n.li,{children:"The minimum amount of time one can stake funds for validation is 24 hours"}),"\n",(0,a.jsx)(n.li,{children:"The minimum amount of time one can stake funds for delegation is 24 hours"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"validators",children:"Validators"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Validators"})," secure Dijets, create new blocks/vertices, and process\ntransactions. To achieve consensus, validators repeatedly sample each other. The\nprobability that a given validator is sampled is proportional to its stake."]}),"\n",(0,a.jsx)(n.p,{children:"When you add a node to the validator set, you specify:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Your node\u2019s ID"}),"\n",(0,a.jsx)(n.li,{children:"When you want to start and stop validating"}),"\n",(0,a.jsx)(n.li,{children:"How many DJTX you are staking"}),"\n",(0,a.jsx)(n.li,{children:"The address to send any rewards to"}),"\n",(0,a.jsx)(n.li,{children:"Your delegation fee rate (see below)"}),"\n"]}),"\n",(0,a.jsx)(t,{type:"info",children:(0,a.jsx)(n.p,{children:"The minimum amount that a validator must stake is 2,000 DJTX."})}),"\n",(0,a.jsx)(t,{type:"caution",children:(0,a.jsxs)(n.p,{children:["Note that once you issue the transaction to add a node as a\nvalidator, there is no way to change the parameters. ",(0,a.jsx)(n.strong,{children:"You can\u2019t remove your\nstake early or change the stake amount, node ID, or reward address."})," Please\nmake sure you\u2019re using the correct values in the API calls below. If you\u2019re not\nsure, ask for help on ",(0,a.jsx)(n.a,{href:"https://qowalts.dijets.io",children:"Qowalts"}),". If you want to add\nmore tokens to your own validator, you can delegate the tokens to this node -\nbut you cannot increase the base validation amount (so delegating to yourself\ngoes against your delegation cap)."]})}),"\n",(0,a.jsx)(n.h3,{id:"running-a-validator",children:"Running a Validator"}),"\n",(0,a.jsx)(n.p,{children:"If you\u2019re running a validator, it\u2019s important that your node is well connected\nto ensure that you receive a reward."}),"\n",(0,a.jsx)(n.p,{children:"When you issue the transaction to add a validator, the staked tokens and\ntransaction fee (which is 0) are deducted from the addresses you control. When\nyou are done validating, the staked funds are returned to the addresses they\ncame from. If you earned a reward, it is sent to the address you specified when\nyou added yourself as a validator."}),"\n",(0,a.jsx)(n.h4,{id:"allow-api-calls",children:"Allow API Calls"}),"\n",(0,a.jsxs)(n.p,{children:["To make API calls to your node from remote machines, allow traffic on the API\nport (",(0,a.jsx)(n.code,{children:"9650"})," by default), and run your node with argument ",(0,a.jsx)(n.code,{children:"--http-host="})]}),"\n",(0,a.jsx)(n.p,{children:"You should disable all APIs you will not use via command-line arguments. You\nshould configure your network to only allow access to the API port from trusted\nmachines (for example, your personal computer.)"}),"\n",(0,a.jsx)(n.h4,{id:"node-uptimes",children:"Node Uptimes"}),"\n",(0,a.jsxs)(n.p,{children:["Every validator on Dijets keeps track of the uptime of other validators.\nEvery validator has a weight (that is the amount staked on it.) The more weight a\nvalidator has, the more influence they have when validators vote on whether your\nnode should receive a staking reward. You can call API method ",(0,a.jsx)(n.code,{children:"info.uptime"})," on\nyour node to learn its weighted uptime and what percentage of the network stake\ncurrently thinks your node has an uptime high enough to receive a staking\nreward."]}),"\n",(0,a.jsxs)(n.p,{children:["You can also see the connections a node has by calling ",(0,a.jsx)(n.code,{children:"info.peers"}),", as well as\nthe uptime of each connection. ",(0,a.jsx)(n.strong,{children:"This is only one node\u2019s point of view"}),". Other\nnodes may perceive the uptime of your node differently. Just because one node\nperceives your uptime as being low does not mean that you will not receive\nstaking rewards."]}),"\n",(0,a.jsxs)(n.p,{children:["If your node's uptime is low, make sure you're setting config option\n",(0,a.jsx)(n.code,{children:"--public-ip=[NODE'S PUBLIC IP]"})," and that your node can receive incoming TCP\ntraffic on port 9651."]}),"\n",(0,a.jsx)(n.h4,{id:"secret-management",children:"Secret Management"}),"\n",(0,a.jsxs)(n.p,{children:["The only secret that you need on your validating node is its Staking Key, the\nTLS key that determines your node\u2019s ID. The first time you start a node, the\nStaking Key is created and put in ",(0,a.jsx)(n.code,{children:"$HOME/.dijetsnodego/staking/staker.key"}),". You\nshould back up this file (and ",(0,a.jsx)(n.code,{children:"staker.crt"}),") somewhere secure. Losing your\nStaking Key could jeopardize your validation reward, as your node will have a\nnew ID."]}),"\n",(0,a.jsxs)(n.p,{children:["You do not need to have DJTX funds on your validating node. In fact, it's best\npractice to ",(0,a.jsx)(n.strong,{children:"not"}),' have a lot of funds on your node. Almost all of your funds\nshould be in "cold" addresses whose private key is not on any computer.']}),"\n",(0,a.jsx)(n.h2,{id:"delegators",children:"Delegators"}),"\n",(0,a.jsx)(n.p,{children:"A delegator is a token holder, who wants to participate in staking, but chooses\nto trust an existing validating node through delegation."}),"\n",(0,a.jsx)(n.p,{children:"When you delegate stake to a validator, you specify:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The ID of the node you\u2019re delegating to"}),"\n",(0,a.jsx)(n.li,{children:"When you want to start/stop delegating stake (must be while the validator is validating)"}),"\n",(0,a.jsx)(n.li,{children:"How many DJTX you are staking"}),"\n",(0,a.jsx)(n.li,{children:"The address to send any rewards to"}),"\n"]}),"\n",(0,a.jsx)(t,{type:"info",children:(0,a.jsx)(n.p,{children:"The minimum amount that a delegator must delegate is 25 DJTX."})}),"\n",(0,a.jsx)(t,{type:"caution",children:(0,a.jsx)(n.p,{children:"Note that once you issue the transaction to add your stake to a delegator, there\nis no way to change the parameters. You can\u2019t remove your stake early or\nchange the stake amount, node ID, or reward address."})}),"\n",(0,a.jsx)(n.h3,{id:"delegator-rewards",children:"Delegator Rewards"}),"\n",(0,a.jsx)(n.p,{children:"If the validator that you delegate tokens to is sufficiently correct and\nresponsive, you will receive a reward when you are done delegating. Delegators\nare rewarded according to the same function as validators. However, the\nvalidator that you delegate to keeps a portion of your reward specified by the\nvalidator\u2019s delegation fee rate."}),"\n",(0,a.jsx)(n.p,{children:"When you issue the transaction to delegate tokens, the staked tokens and\ntransaction fee are deducted from the addresses you control. When you are done\ndelegating, the staked tokens are returned to your address. If you earned a\nreward, it is sent to the address you specified when you delegated tokens."}),"\n",(0,a.jsx)(n.h3,{id:"how-staking-rewards-determined",children:"How Staking Rewards determined"}),"\n",(0,a.jsx)(n.p,{children:"When a node leaves the validator set, the validators vote on whether the leaving\nnode should receive a staking reward or not. If a validator calculates that the\nleaving node was responsive for more than the required uptime (currently 80%),\nthe validator will vote for the leaving node to receive a staking reward.\nOtherwise, the validator will vote that the leaving node should not receive a\nstaking reward. The result of this vote, which is weighted by stake, determines\nwhether the leaving node receives a reward or not."}),"\n",(0,a.jsx)(n.p,{children:'Each validator only votes "yes" or "no." It does not share its data such as the\nleaving node\'s uptime.'}),"\n",(0,a.jsx)(n.p,{children:"Each validation period is considered separately. That is, suppose a node joins\nthe validator set, and then leaves. Then it joins and leaves again. The node's\nuptime during its first period in the validator set does not affect the uptime\ncalculation in the second period, hence, has no impact on whether the node\nreceives a staking reward for its second period in the validator set."})]})}n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.jsx)(d,Object.assign({},e,{children:(0,a.jsx)(l,e)}))}}},function(e){e.O(0,[2331,2499,9774,2888,179],(function(){return n=24470,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
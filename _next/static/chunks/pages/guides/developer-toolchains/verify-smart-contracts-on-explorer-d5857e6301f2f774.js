(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6612],{32340:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/developer-toolchains/verify-smart-contracts-on-explorer",function(){return t(69002)}])},69002:function(e,n,t){"use strict";t.r(n),t.d(n,{Page:function(){return c},meta:function(){return s}});var r=t(52322),i=t(3905),o=t(72499),s={id:"verify-smart-contracts-on-explorer",title:"Verify Smart Contracts using Dijets Utility Chain Explorer",description:"How to Verify Smart Contracts using Dijets Utility Chain Explorer"},c=function(e){var n=e.children;return(0,r.jsx)(o.Z,{meta:s,children:n})},l=c;function a(e){var n=Object.assign({p:"p",ol:"ol",li:"li",h2:"h2",code:"code",ul:"ul",strong:"strong",img:"img",a:"a"},(0,i.ah)(),e.components),t=n.Admonition;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Admonition",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Once verified, a smart contract or token contract's source code becomes publicly available and verifiable. This creates transparency and trust\nbetween the developer of the smart contract or a DApp and users who interact with the said contract/DApp."}),"\n",(0,r.jsx)(n.p,{children:"After deploying a smart contract one can verify it easily on Dijets Explorer in three steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Flatten the Smart Contract"}),"\n",(0,r.jsx)(n.li,{children:"Clean up the flattened contract"}),"\n",(0,r.jsx)(n.li,{children:"Verify using the Dijets Explorer GUI"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"flatten-a-smart-contract-using-hardhat",children:"Flatten a Smart Contract using Hardhat"}),"\n",(0,r.jsx)(t,{type:"info",children:(0,r.jsx)(n.p,{children:"Flattening a smart contract refers to combining all Solidity code in one file instead of multiple source files such that,\ninstead of having imports, the imported code is all embedded in the same file."})}),"\n",(0,r.jsxs)(n.p,{children:["To flatten the smart contract code run the command:\n",(0,r.jsx)(n.code,{children:"npx hardhat flatten <path-to-contract> >> <flat-contract-name>.sol"})]}),"\n",(0,r.jsx)(n.h2,{id:"clean-up-the-flattened-smart-contract",children:"Clean up the flattened Smart Contract"}),"\n",(0,r.jsx)(n.p,{children:"Some clean-up may be necessary to get the code to compile properly in the Dijets Explorer Contract Verifier"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Remove all but the top SPDX license."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If the contract uses multiple SPDX licenses, use both licenses by adding ",(0,r.jsx)(n.strong,{children:"AND"})," for example:\n",(0,r.jsx)(n.code,{children:"SPDX-License-Identifier: MIT AND BSD-3-Clause"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"verify-the-smart-contract-using-dijets-explorer",children:"Verify the Smart Contract using Dijets Explorer"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Search for the contract in Dijets Explorer"}),"\n",(0,r.jsx)(n.li,{children:"Click on the contract address. Your contract details should come up."}),"\n",(0,r.jsxs)(n.li,{children:["Select the Code tab to view the bytecode, click the ",(0,r.jsx)(n.strong,{children:"Verify & Publish"})," button. You will see several options for verification."]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Via flattened source code (Solidity)"}),"\n",(0,r.jsx)(n.li,{children:"Via standard JSON input"}),"\n",(0,r.jsx)(n.li,{children:"Via Sourcify: Sources and metadata JSON file"}),"\n",(0,r.jsx)(n.li,{children:"Vyper Contract"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/contract-verify.png",alt:""})}),"\n",(0,r.jsx)(n.h2,{id:"via-flattened-source-code",children:"Via Flattened Source Code"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/flattened-code.png",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"Below is the list of all the options and their inputs for the information query form you will see on your screen if you choose to verify your contract via Flattened source code."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Address:"})," The ",(0,r.jsx)(n.code,{children:"0x"})," address supplied on contract creation. "]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Name:"})," Name of the class whose constructor was called in the .sol file. For example, in ",(0,r.jsx)(n.code,{children:"contract MyContract {.."})," ",(0,r.jsx)(n.strong,{children:"MyContract"})," is the contract name. "]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Include Nightly Builds"}),": Yes if you want to show nightly builds."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compiler:"})," derived from the first line in the contract ",(0,r.jsx)(n.code,{children:"pragma solidity X.X.X"}),". Use the corresponding compiler version rather than the nightly build."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"EVM Version:"})," ",(0,r.jsx)(n.a,{href:"../evm-version-information.md",children:"See EVM version information"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Optimization:"})," If you enabled optimization during compilation, check yes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Optimization Runs:"})," 200 is the Solidity Compiler default value. Only change if you changed this value while compiling."]}),"\n",(0,r.jsxs)(n.li,{children:[" ",(0,r.jsx)(n.strong,{children:"Enter the Solidity Contract Code:"})," Enter the ",(0,r.jsx)(n.a,{href:"#flatten-a-smart-contract-using-hardhat",children:"flattened"})," & ",(0,r.jsx)(n.a,{href:"clean-up-the-flattened-smart-contract",children:"cleaned up"})," smart contract code we generated earlier with hardhat."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Try to fetch constructor arguments automatically"}),": If similar contracts exist these may be available."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ABI-encoded Constructor Arguments:"})," ",(0,r.jsx)(n.a,{href:"../abi-encoded-constructor-arguments.md",children:"See this page for more info"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add Contract Libraries:"})," Enter the name and 0x address for any required libraries called in the called in the .sol file."]}),"\n",(0,r.jsxs)(n.li,{children:["Click the ",(0,r.jsx)(n.code,{children:"Verify and Publish"})," button."]}),"\n",(0,r.jsxs)(n.li,{children:["If all goes well, you will see a checkmark :white_check_mark: next to Code in the code tab, and an additional tab called ",(0,r.jsx)(n.code,{children:"Read Contract"}),". The contract name will now appear in BlockScout with any transactions related to your contract."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"via-standard-json-input",children:"Via standard JSON input"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/standard-json.png",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"Below is the list of all the options and their inputs for the information query form you will see on your screen if you choose to verify your contract via Standard Json Input."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Name"}),". There are several options:","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Leave blank."}),"\n",(0,r.jsxs)(n.li,{children:["Enter contract name: ",(0,r.jsx)(n.code,{children:"MyContract"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Enter path to the contract and it's name: ",(0,r.jsx)(n.code,{children:"path/to/file.sol:MyContract"})," (path should match what is written in your JSON file)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Include nightly builds"}),". You can choose ",(0,r.jsx)(n.strong,{children:"Yes"})," or ",(0,r.jsx)(n.strong,{children:"No"})," depending on your compiler."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compiler."})," Choose the compiler version used to compile your smart contract."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Standard Input JSON."})," Attach your Standard Input JSON file. File should follows solidity ",(0,r.jsx)(n.a,{href:"https://docs.soliditylang.org/en/latest/using-the-compiler.html#input-description",children:"format"})," and all the sources must be in Liternal Content format, not an URL."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Try to fetch constructor arguments automatically."})," Select No if you want to provide ABI-encoded Constructor Arguments or the contract does not have any."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ABI-encoded Constructor Arguments."})," Fill it with ABI-encoded Constructor Arguments or leave blank."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["After filling the form click the ",(0,r.jsx)(n.strong,{children:"Verify & publish"})," button and wait for the response."]}),"\n",(0,r.jsx)(n.h2,{id:"via-sourcify-sources-and-metadata-json-file",children:"Via Sourcify: Sources and metadata JSON file"}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"verify-smart-contracts-with-sourcify",children:"Contract Verification via Sourcify"})," page for details."]}),"\n",(0,r.jsx)(n.h2,{id:"vyper-contract",children:"Vyper Contract"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/docs/img/vyper.png",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"Below is the list of all the options and their inputs for the information query form you will see on your screen if you choose to verify your contract via Vyper."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Address:"})," The ",(0,r.jsx)(n.code,{children:"0x"})," address supplied on contract creation. Should autopopulate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Name:"})," Should autopopulate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compiler"}),": Select the compiler version used in the source code."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enter the Vyper Contract Code:"})," Copy and paste the contract code"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ABI-encoded Constructor Arguments (if required):"}),"  ",(0,r.jsx)(n.a,{href:"../abi-encoded-constructor-arguments.md",children:"See this page for more info"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Click the ",(0,r.jsx)(n.code,{children:"Verify and Publish"})," button."]}),"\n",(0,r.jsxs)(n.li,{children:["If all goes well, you will see a checkmark :white_check_mark: next to Code in the code tab, and an additional tab called ",(0,r.jsx)(n.code,{children:"Read Contract"}),". The contract name will now appear in BlockScout with any transactions related to your contract."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsxs)(n.p,{children:["If you receive the dreaded ",(0,r.jsx)(n.code,{children:"There was an error compiling your contract"})," message this means the bytecode doesn't match the supplied sourcecode. Unfortunately, there are many reasons this may be the case. Here are a few things to try:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Double check the compiler version is correct."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Check that an extra space has not been added to the end of the contract. When pasting in, an extra space may be added. Delete this and attempt to recompile."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Copy, paste and verify your source code in Remix. You may find some exceptions here."}),"\n"]}),"\n"]})]})}n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.jsx)(l,Object.assign({},e,{children:(0,r.jsx)(a,e)}))}}},function(e){e.O(0,[2331,2499,9774,2888,179],(function(){return n=32340,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
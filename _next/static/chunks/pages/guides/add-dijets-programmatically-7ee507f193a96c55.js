(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6834],{24934:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/add-dijets-programmatically",function(){return t(40256)}])},40256:function(e,o,t){"use strict";t.r(o),t.d(o,{CH:function(){return c},Page:function(){return l},chCodeConfig:function(){return i},meta:function(){return p}});var r=t(52322),n=t(3905),s=t(65854),a=t(72499),c={annotations:s.ds,Code:s.EK},i={staticMediaQuery:"not screen, (max-width: 768px)",theme:{name:"supabase",type:"from-css",tokenColors:[{scope:["comment","punctuation.definition.comment","string.comment"],settings:{foreground:"var(--ch-1)"}},{scope:["constant","entity.name.constant","variable.other.constant","variable.other.enummember","variable.language","entity"],settings:{foreground:"var(--ch-2)"}},{scope:["entity.name","meta.export.default","meta.definition.variable"],settings:{foreground:"var(--ch-3)"}},{scope:["variable.parameter.function","meta.jsx.children","meta.block","meta.tag.attributes","entity.name.constant","meta.object.member","meta.embedded.expression"],settings:{foreground:"var(--ch-4)"}},{scope:"entity.name.function",settings:{foreground:"var(--ch-5)"}},{scope:["entity.name.tag","support.class.component"],settings:{foreground:"var(--ch-6)"}},{scope:"keyword",settings:{foreground:"var(--ch-7)"}},{scope:["storage","storage.type"],settings:{foreground:"var(--ch-7)"}},{scope:["storage.modifier.package","storage.modifier.import","storage.type.java"],settings:{foreground:"var(--ch-4)"}},{scope:["string","string punctuation.section.embedded source"],settings:{foreground:"var(--ch-8)"}},{scope:"support",settings:{foreground:"var(--ch-2)"}},{scope:"meta.property-name",settings:{foreground:"var(--ch-2)"}},{scope:"variable",settings:{foreground:"var(--ch-3)"}},{scope:"variable.other",settings:{foreground:"var(--ch-4)"}},{scope:"invalid.broken",settings:{foreground:"var(--ch-9)",fontStyle:"italic"}},{scope:"invalid.deprecated",settings:{foreground:"var(--ch-9)",fontStyle:"italic"}},{scope:"invalid.illegal",settings:{foreground:"var(--ch-9)",fontStyle:"italic"}},{scope:"invalid.unimplemented",settings:{foreground:"var(--ch-9)",fontStyle:"italic"}},{scope:"carriage-return",settings:{background:"var(--ch-7)",foreground:"var(--ch-10)",fontStyle:"italic underline"}},{scope:"message.error",settings:{foreground:"var(--ch-9)"}},{scope:"string variable",settings:{foreground:"var(--ch-2)"}},{scope:["source.regexp","string.regexp"],settings:{foreground:"var(--ch-8)"}},{scope:["string.regexp.character-class","string.regexp constant.character.escape","string.regexp source.ruby.embedded","string.regexp string.regexp.arbitrary-repitition"],settings:{foreground:"var(--ch-8)"}},{scope:"string.regexp constant.character.escape",settings:{foreground:"var(--ch-6)",fontStyle:"bold"}},{scope:"support.constant",settings:{foreground:"var(--ch-2)"}},{scope:"support.variable",settings:{foreground:"var(--ch-2)"}},{scope:"support.type.property-name.json",settings:{foreground:"var(--ch-6)"}},{scope:"meta.module-reference",settings:{foreground:"var(--ch-2)"}},{scope:"punctuation.definition.list.begin.markdown",settings:{foreground:"var(--ch-3)"}},{scope:["markup.heading","markup.heading entity.name"],settings:{foreground:"var(--ch-2)",fontStyle:"bold"}},{scope:"markup.quote",settings:{foreground:"var(--ch-6)"}},{scope:"markup.italic",settings:{foreground:"var(--ch-4)",fontStyle:"italic"}},{scope:"markup.bold",settings:{foreground:"var(--ch-4)",fontStyle:"bold"}},{scope:["markup.underline"],settings:{fontStyle:"underline"}},{scope:["markup.strikethrough"],settings:{fontStyle:"strikethrough"}},{scope:"markup.inline.raw",settings:{foreground:"var(--ch-2)"}},{scope:["markup.deleted","meta.diff.header.from-file","punctuation.definition.deleted"],settings:{background:"var(--ch-11)",foreground:"var(--ch-9)"}},{scope:["punctuation.section.embedded"],settings:{foreground:"var(--ch-7)"}},{scope:["markup.inserted","meta.diff.header.to-file","punctuation.definition.inserted"],settings:{background:"var(--ch-12)",foreground:"var(--ch-6)"}},{scope:["markup.changed","punctuation.definition.changed"],settings:{background:"var(--ch-13)",foreground:"var(--ch-3)"}},{scope:["markup.ignored","markup.untracked"],settings:{background:"var(--ch-2)",foreground:"var(--ch-14)"}},{scope:"meta.diff.range",settings:{foreground:"var(--ch-5)",fontStyle:"bold"}},{scope:"meta.diff.header",settings:{foreground:"var(--ch-2)"}},{scope:"meta.separator",settings:{foreground:"var(--ch-2)",fontStyle:"bold"}},{scope:"meta.output",settings:{foreground:"var(--ch-2)"}},{scope:["brackethighlighter.tag","brackethighlighter.curly","brackethighlighter.round","brackethighlighter.square","brackethighlighter.angle","brackethighlighter.quote"],settings:{foreground:"var(--ch-15)"}},{scope:"brackethighlighter.unmatched",settings:{foreground:"var(--ch-9)"}},{scope:["constant.other.reference.link","string.other.link"],settings:{foreground:"var(--ch-8)",fontStyle:"underline"}}],colors:{"editor.background":"var(--ch-16)","editor.foreground":"var(--ch-4)","editor.selectionBackground":"var(--ch-17)","editor.infoForeground":"var(--ch-18)","editor.rangeHighlightBackground":"var(--ch-19)","editorLineNumber.foreground":"var(--ch-20)","tab.activeBackground":"var(--ch-16)","tab.inactiveBackground":"var(--ch-21)","tab.activeForeground":"var(--ch-4)","tab.inactiveForeground":"var(--ch-15)","tab.border":"var(--ch-22)","tab.activeBorder":"var(--ch-16)","tab.activeBorderTop":"var(--ch-23)","tab.hoverBackground":"var(--ch-16)","tab.hoverForeground":"var(--ch-15)","editorGroupHeader.tabsBorder":"var(--ch-22)","editorGroupHeader.tabsBackground":"var(--ch-21)","list.inactiveSelectionBackground":"var(--ch-24)","list.inactiveSelectionForeground":"var(--ch-4)","list.hoverBackground":"var(--ch-25)","list.hoverForeground":"var(--ch-4)"}},lineNumbers:!0,showCopyButton:!0,autoImport:!0,skipLanguages:[],filepath:"/Users/saleemfareed/Documents/hal-docs/apps/docs/pages/guides/add-dijets-programmatically.mdx"},p={id:"atomic-transaction-format",title:"Add Dijets Network to your DApps",description:"How to add Dijets Network programmatically to your DApps",sidebar_label:"Overview"},l=function(e){var o=e.children;return(0,r.jsx)(a.Z,{meta:p,children:o})},h=l;function d(e){var o=Object.assign({p:"p",h2:"h2",h3:"h3",a:"a",code:"code",img:"img"},(0,n.ah)(),e.components);return c||u("CH",!1),c.Code||u("CH.Code",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.p,{children:"This guide shows how as a developer you can programmatically add Dijets Network to your DApps,\nand in doing so make your onboarding process even more smoother for users."}),"\n",(0,r.jsx)(o.h2,{id:"metamask",children:"MetaMask"}),"\n",(0,r.jsx)(o.p,{children:"Adding a new network to MetaMask is not a trivial task for people that are not technically savvy. It can lead to more confusion and even worse, loss of funds.\nTo help easier onboarding of users to your application it is useful to simplify that process as much as possible.\nThis tutorial will show how to build a simple button in your front-end\napplication that will automate the process of adding Dijets Network to\nMetaMask, the most widely used web 3.0 wallet & browser."}),"\n",(0,r.jsx)(o.h3,{id:"eip-3035--metamask",children:"EIP-3035 & MetaMask"}),"\n",(0,r.jsxs)(o.p,{children:[(0,r.jsx)(o.a,{href:"https://eips.ethereum.org/EIPS/eip-3085",children:"EIP-3035"})," is an ",(0,r.jsx)(o.a,{href:"https://eips.ethereum.org/",children:"Ethereum Improvement\nProposal"})," that defines an RPC method for adding\nEthereum-compatible chains to wallet applications."]}),"\n",(0,r.jsxs)(o.p,{children:["Since March 2021 MetaMask has implemented EIP 3035 as part of their ",(0,r.jsx)(o.a,{href:"https://consensys.net/blog/metamask/connect-users-to-layer-2-networks-with-the-metamask-custom-networks-api/",children:"Custom Networks API"}),"."]}),"\n",(0,r.jsx)(o.p,{children:"Before we begin the implementation, let's look at how this all works."}),"\n",(0,r.jsx)(o.h3,{id:"data-structures",children:"Data Structures"}),"\n",(0,r.jsx)(o.p,{children:"To add Dijets network to MetaMask, we need to prepare the data structures\nthat will contain all the necessary data about the network."}),"\n",(0,r.jsx)(o.p,{children:"Main network data:"}),"\n",(0,r.jsx)(c.Code,{codeConfig:i,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"export const ",props:{style:{color:"var(--ch-7)"}}},{content:"DIJETS_MAINNET_PARAMS ",props:{style:{color:"var(--ch-2)"}}},{content:"=",props:{style:{color:"var(--ch-7)"}}},{content:" {",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"  chainId: ",props:{style:{color:"var(--ch-4)"}}},{content:'"0x17F98"',props:{style:{color:"var(--ch-8)"}}},{content:",",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"  chainName: ",props:{style:{color:"var(--ch-4)"}}},{content:'"Dijets Utility Chain"',props:{style:{color:"var(--ch-8)"}}},{content:",",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"  nativeCurrency: {",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"    name: ",props:{style:{color:"var(--ch-4)"}}},{content:'"Dijets"',props:{style:{color:"var(--ch-8)"}}},{content:",",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"    symbol: ",props:{style:{color:"var(--ch-4)"}}},{content:'"DJTX"',props:{style:{color:"var(--ch-8)"}}},{content:",",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"    decimals: ",props:{style:{color:"var(--ch-4)"}}},{content:"18",props:{style:{color:"var(--ch-2)"}}},{content:",",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"  },",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"  rpcUrls: [",props:{style:{color:"var(--ch-4)"}}},{content:'"https://dijets.ukwest.cloudapp.azure.com:443/ext/bc/C/rpc"',props:{style:{color:"var(--ch-8)"}}},{content:"],",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"  blockExplorerUrls: [",props:{style:{color:"var(--ch-4)"}}},{content:'"https://utility-explorer.swedencentral.cloudapp.azure.com/"',props:{style:{color:"var(--ch-8)"}}},{content:"],",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"}",props:{style:{color:"var(--ch-4)"}}}]}],lang:"javascript"},annotations:[]}]}),"\n",(0,r.jsx)(o.h3,{id:"adding-the-network",children:"Adding the Network"}),"\n",(0,r.jsxs)(o.p,{children:["To add the network to MetaMask, we need to call the ",(0,r.jsx)(o.code,{children:"wallet_addEthereumChain"}),"\nmethod, exposed by the web3 provider."]}),"\n",(0,r.jsx)(c.Code,{codeConfig:i,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"function ",props:{style:{color:"var(--ch-7)"}}},{content:"addDijetsNetwork",props:{style:{color:"var(--ch-5)"}}},{content:"() {",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"  injected.",props:{style:{color:"var(--ch-4)"}}},{content:"getProvider",props:{style:{color:"var(--ch-5)"}}},{content:"().",props:{style:{color:"var(--ch-4)"}}},{content:"then",props:{style:{color:"var(--ch-5)"}}},{content:"((",props:{style:{color:"var(--ch-4)"}}},{content:"provider",props:{style:{color:"var(--ch-3)"}}},{content:") ",props:{style:{color:"var(--ch-4)"}}},{content:"=>",props:{style:{color:"var(--ch-7)"}}},{content:" {",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"    provider",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"      .",props:{style:{color:"var(--ch-4)"}}},{content:"request",props:{style:{color:"var(--ch-5)"}}},{content:"({",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"        method: ",props:{style:{color:"var(--ch-4)"}}},{content:'"wallet_addEthereumChain"',props:{style:{color:"var(--ch-8)"}}},{content:",",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"        params: [",props:{style:{color:"var(--ch-4)"}}},{content:"DIJETS_MAINNET_PARAMS",props:{style:{color:"var(--ch-2)"}}},{content:"],",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"      })",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"      .",props:{style:{color:"var(--ch-4)"}}},{content:"catch",props:{style:{color:"var(--ch-5)"}}},{content:"((",props:{style:{color:"var(--ch-4)"}}},{content:"error",props:{style:{color:"var(--ch-3)"}}},{content:": ",props:{style:{color:"var(--ch-7)"}}},{content:"any",props:{style:{color:"var(--ch-2)"}}},{content:") ",props:{style:{color:"var(--ch-4)"}}},{content:"=>",props:{style:{color:"var(--ch-7)"}}},{content:" {",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"        console.",props:{style:{color:"var(--ch-4)"}}},{content:"log",props:{style:{color:"var(--ch-5)"}}},{content:"(error)",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"      })",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"  })",props:{style:{color:"var(--ch-4)"}}}]},{tokens:[{content:"}",props:{style:{color:"var(--ch-4)"}}}]}],lang:"javascript"},annotations:[]}]}),"\n",(0,r.jsxs)(o.p,{children:["Here ",(0,r.jsx)(o.code,{children:"injected"})," is initialized as a ",(0,r.jsx)(o.code,{children:"web3-react/injected-connector"})," which is used to\ninterface with MetaMask APIs. Usage for other popular web frameworks is similar."]}),"\n",(0,r.jsxs)(o.p,{children:["Typical usage pattern would be to expose a button calling that method if you get\nerrors like ",(0,r.jsx)(o.code,{children:"Wrong Network"})," or ",(0,r.jsx)(o.code,{children:"Error connecting"})," when attempting to establish a\nconnection to MetaMask."]}),"\n",(0,r.jsx)(o.h3,{id:"user-experience",children:"User Experience"}),"\n",(0,r.jsx)(o.p,{children:"When users first come to your DApp they are prompted to approve connection to\nMetaMask. Once the user approves the connection, and if no successful web3 network\nconnection is detected, you can present them with a dialog asking them to confirm switching to\na different network:"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{src:"/docs/img/wrong-network-button.png",alt:"wrong network"})}),"\n",(0,r.jsx)(o.p,{children:"If they press the button, they are shown a dialog from MetaMask asking for approval to add the new network:"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{src:"/docs/img/add-dijets-network.png",alt:"add a network"})}),"\n",(0,r.jsx)(o.p,{children:"If they approve, your app will be connected to Dijets Network.\nYour users won't need to fill in long URLs or worry about inputting wrong information.\nA seamless process designed to help your users avoid any confusion and hassle."}),"\n",(0,r.jsx)(o.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsx)(o.p,{children:"Manually adding a new network is a\nhurdle that a certain percentage of your potential users will not be able to\nclear. Removing that requirement is a simple step that will enhance their\nexperience and enable more users who get to actually use your dapp."}),"\n",(0,r.jsxs)(o.p,{children:["If you have any questions, problems, or ideas on how to improve, or simply want\nto join our developer community, drop in and say hello on\n",(0,r.jsx)(o.a,{href:"https://redirect.dijets.io/#/#dijets-support:dijets.org",children:"Qowalts"}),"."]})]})}function u(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}o.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.jsx)(h,Object.assign({},e,{children:(0,r.jsx)(d,e)}))}}},function(e){e.O(0,[2331,2499,9774,2888,179],(function(){return o=24934,e(e.s=o);var o}));var o=e.O();_N_E=o}]);
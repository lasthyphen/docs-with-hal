<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="apple-touch-icon-precomposed" sizes="57x57" href="/docs/favicon/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon-precomposed" sizes="114x114" href="/docs/favicon/apple-touch-icon-114x114.png"/><link rel="apple-touch-icon-precomposed" sizes="72x72" href="/docs/favicon/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon-precomposed" sizes="144x144" href="/docs/favicon/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon-precomposed" sizes="60x60" href="/docs/favicon/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon-precomposed" sizes="120x120" href="/docs/favicon/apple-touch-icon-120x120.png"/><link rel="apple-touch-icon-precomposed" sizes="76x76" href="/docs/favicon/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon-precomposed" sizes="152x152" href="/docs/favicon/apple-touch-icon-152x152.png"/><link rel="icon" type="image/png" href="/docs/favicon/favicon-196x196.png" sizes="196x196"/><link rel="icon" type="image/png" href="/docs/favicon/favicon-96x96.png" sizes="96x96"/><link rel="icon" type="image/png" href="/docs/favicon/favicon-32x32.png" sizes="32x32"/><link rel="icon" type="image/png" href="/docs/favicon/favicon-16x16.png" sizes="16x16"/><link rel="icon" type="image/png" href="/docs/favicon/favicon-128.png" sizes="128x128"/><meta name="application-name" content="Â "/><meta name="msapplication-TileColor" content="#1E1E1E"/><meta name="msapplication-TileImage" content="mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="mstile-310x310.png"/><meta name="theme-color" content="#1E1E1E"/><link rel="shortcut icon" href="/docs/favicon/favicon.ico"/><link rel="icon" type="image/png" href="/docs/favicon/favicon.ico"/><link rel="manifest" href="/docs/favicon/site.webmanifest"/><meta name="msapplication-config" content="/docs/favicon/browserconfig.xml"/><link rel="alternate" type="application/rss+xml" href="/docs/feed.xml"/><title>Multisig UTXOs with DijetsJs | Dijets Docs</title><meta name="description" content="Multisig Unspent Transaction Outputs."/><meta property="og:image" content="https://obuldanrptloktxcffvn.functions.supabase.co/og-images?site=docs&amp;type=getting-started&amp;title=Multisig%20UTXOs%20with%20DijetsJs&amp;description=Multisig%20Unspent%20Transaction%20Outputs."/><meta name="twitter:image" content="https://obuldanrptloktxcffvn.functions.supabase.co/og-images?site=docs&amp;type=getting-started&amp;title=Multisig%20UTXOs%20with%20DijetsJs&amp;description=Multisig%20Unspent%20Transaction%20Outputs."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="robots" content="index,follow"/><meta property="og:url" content="https://supabase.com/docs/guides/getting-started/tutorials/multisig-utxos"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2023-06-12T07:22:57.566Z"/><meta property="article:modified_time" content="2023-06-12T07:22:57.566Z"/><meta property="article:author" content="Supabase"/><link rel="canonical" href="https://supabase.com/docs/guides/getting-started/tutorials/multisig-utxos"/><meta name="next-head-count" content="39"/><link rel="preload" href="/docs/_next/static/css/486774788d4ec64c.css" as="style"/><link rel="stylesheet" href="/docs/_next/static/css/486774788d4ec64c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/docs/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/docs/_next/static/chunks/2665-917f2fc8609e11a5.js"></script><script defer="" src="/docs/_next/static/chunks/9973.dd57ad9dc3edc5a4.js"></script><script defer="" src="/docs/_next/static/chunks/7163.925754cd3fb056b0.js"></script><script src="/docs/_next/static/chunks/webpack-f3d0bd5b6a3f3a28.js" defer=""></script><script src="/docs/_next/static/chunks/framework-45ce3d09104a2cae.js" defer=""></script><script src="/docs/_next/static/chunks/main-d2af43a45a1cdfda.js" defer=""></script><script src="/docs/_next/static/chunks/pages/_app-257c3b8799504e76.js" defer=""></script><script src="/docs/_next/static/chunks/2331-7a535b38a60695f4.js" defer=""></script><script src="/docs/_next/static/chunks/2499-99555a940d1c8445.js" defer=""></script><script src="/docs/_next/static/chunks/pages/guides/getting-started/tutorials/multisig-utxos-1f6faa38e5486ffa.js" defer=""></script><script src="/docs/_next/static/RCEl81Est0ovedfbxpc__/_buildManifest.js" defer=""></script><script src="/docs/_next/static/RCEl81Est0ovedfbxpc__/_ssgManifest.js" defer=""></script></head><body class="dark"><div id="__next" data-reactroot=""><main><div class="flex flex-row h-screen"><div class="absolute lg:relative w-0 -left-[280px] lg:w-[420px] !lg:left-0 lg:left-0 transition-all top-0 h-screen flex flex-col ml-0"><div class="top-0 relative w-auto border-r overflow-auto h-screen backdrop-blur backdrop-filter bg-white-1200 dark:bg-scale-200 flex flex-col"><div class="top-0 sticky z-10"><div><div><div class="hidden lg:flex lg:height-auto pt-8 bg-scale-200 flex-col gap-8"><a class="px-10 flex items-center gap-2" href="/docs"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2796%27%20height=%2724%27/%3e"/></span><img alt="Dijets Logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="cursor-pointer" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Dijets Logo" src="https://whitelist.dijets.io/dijets-light.svg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="cursor-pointer" loading="lazy"/></noscript></span><span class="font-mono text-sm font-medium text-brand-900">DOCS</span></a></div><div class="h-4 bg-scale-200 w-full"></div><div class="bg-gradient-to-b from-scale-200 to-transparent h-4 w-full"></div></div></div></div><div class="transition-all ease-out duration-200 absolute left-0 right-0 h-screen px-5 pl-5 py-16 top-[0px] bg-scale-200 lg:relative lg:top-0 lg:left-0 lg:pb-10 lg:px-10 lg:pt-0 lg:flex lg:opacity-100 lg:visible"><div class="transition-all duration-150 ease-out opacity-100 ml-0 delay-150"><ul class="relative w-full flex flex-col gap-4 pb-5"><div><div class="flex flex-col gap-4"><a href="/docs"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.889 13.83V8h4.222v5.83M3 5.494v8.338h10V5.54L7.994 2.02 3 5.493Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Home</li></a><a href="/docs/guides/getting-started"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m13.429 8-4.681 2.702-4.681 2.703V2.594l4.68 2.703 4.682 2.702Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Quickstart</li></a></div></div><div class="h-px w-full bg-blackA-300 dark:bg-whiteA-300"></div><div><div class="flex flex-col gap-4"><div class="font-mono uppercase text-xs text-scale-900">Network</div><a href="/docs/guides/public-api"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 17L10 11 4 5"></path><path d="M12 19L20 19"></path></svg>Public API Server</li></a><a href="/docs/guides/postman-api"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"></path><path d="M3.27 6.96L12 12.01 20.73 6.96"></path><path d="M12 22.08L12 12"></path></svg>Postman APIs</li></a><a href="/docs/guides/node-apis"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 010 8.49m-8.48-.01a6 6 0 010-8.49m11.31-2.82a10 10 0 010 14.14m-14.14 0a10 10 0 010-14.14"></path></svg>APIs</li></a><a href="/docs/guides/nodes"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.99886 7.63216V14.4892M7.99886 7.63216L14.0488 4.11804M7.99886 7.63216L1.94922 4.11819M1.94922 4.11819V8.32332M1.94922 4.11819V4.08217L5.57319 1.97717M14.049 8.36007V4.08217L10.4251 1.97717M11.8165 12.4072L7.99913 14.6245L4.18177 12.4072" stroke="currentColor" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path></svg>Nodes</li></a><a href="/docs/guides/dijetsjs"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.857 11.36a7 7 0 0 1 9.41-9.551M4.774 14.212a7 7 0 0 0 9.41-9.497m-8.812 7.845a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm9.296-9.13a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM12.5 8a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>DijetsJS</li></a></div></div><div class="h-px w-full bg-blackA-300 dark:bg-whiteA-300"></div><div><div class="flex flex-col gap-4"><div class="font-mono uppercase text-xs text-scale-900">DApps</div><a href="/docs/guides/launch-dapps-on-uc"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.83 1.453v5.619m-2.809-2.81h5.62M1.338 1.454h5.62v5.619h-5.62V1.453Zm5.827 10.278a3.017 3.017 0 1 1-6.035 0 3.017 3.017 0 0 1 6.035 0ZM9.02 9.038h5.62v5.619H9.02V9.038Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Launch DApps on Dijets</li></a><a href="/docs/guides/developer-toolchains"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 000 1.4l1.6 1.6a1 1 0 001.4 0l3.77-3.77a6 6 0 01-7.94 7.94l-6.91 6.91a2.12 2.12 0 01-3-3l6.91-6.91a6 6 0 017.94-7.94l-3.76 3.76z"></path></svg>Developer Toolchains</li></a><a href="/docs/guides/nfts"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.041 14.37v-2.285a3.245 3.245 0 0 0-3.244-3.244M7.317 10H3v4h3.552v-1.916a3.257 3.257 0 0 1 3.245-3.244m0 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM8 6H3V2h10v4h-1.43M3.502 6v4" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Non Fungible Tokens (NFTs)</li></a><a href="/docs/guides/nft-metadata"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.83 1.453v5.619m-2.809-2.81h5.62M1.338 1.454h5.62v5.619h-5.62V1.453Zm5.827 10.278a3.017 3.017 0 1 1-6.035 0 3.017 3.017 0 0 1 6.035 0ZM9.02 9.038h5.62v5.619H9.02V9.038Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>NFTs Metadata</li></a></div></div><div class="h-px w-full bg-blackA-300 dark:bg-whiteA-300"></div><div><div class="flex flex-col gap-4"><div class="font-mono uppercase text-xs text-scale-900">Smart Contracts</div><a href="/docs/guides/smart-contracts"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 21L4 14"></path><path d="M4 10L4 3"></path><path d="M12 21L12 12"></path><path d="M12 8L12 3"></path><path d="M20 21L20 16"></path><path d="M20 12L20 3"></path><path d="M1 14L7 14"></path><path d="M9 8L15 8"></path><path d="M17 16L23 16"></path></svg>Overview</li></a><a href="/docs/guides/erc20-contract"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7 12 12 22 7 12 2z"></path><path d="M2 17L12 22 22 17"></path><path d="M2 12L12 17 22 12"></path></svg>Creating an ERC-20 Token</li></a><a href="/docs/guides/add-dijets-programmatically"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><path d="M14 2L14 8 20 8"></path><path d="M16 13L8 13"></path><path d="M16 17L8 17"></path><path d="M10 9L9 9 8 9"></path></svg>Add Dijets to your DApp</li></a></div></div><div class="h-px w-full bg-blackA-300 dark:bg-whiteA-300"></div><div><div class="flex flex-col gap-4"><div class="font-mono uppercase text-xs text-scale-900">Specs &amp; Formats</div><a href="/docs/guides/transaction-format"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7 12 12 22 7 12 2z"></path><path d="M2 17L12 22 22 17"></path><path d="M2 12L12 17 22 12"></path></svg>Transaction Format</li></a><a href="/docs/guides/cryptographic-primitives"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 12V5l-.009-3H3v10.5m0 0A1.5 1.5 0 0 0 4.5 14H13v-1.65L12.991 11H4.5A1.5 1.5 0 0 0 3 12.5ZM5.005 2v4l1.5-1.695L8.005 6V2h-3Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Cryptographic Primitives</li></a><a href="/docs/guides/serialisation-primitives"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path></svg>Serialisation Primitives</li></a><a href="/docs/guides/atomic-transaction-format"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.83 1.453v5.619m-2.809-2.81h5.62M1.338 1.454h5.62v5.619h-5.62V1.453Zm5.827 10.278a3.017 3.017 0 1 1-6.035 0 3.017 3.017 0 0 1 6.035 0ZM9.02 9.038h5.62v5.619H9.02V9.038Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Atomic Transactions</li></a></div></div><div class="h-px w-full bg-blackA-300 dark:bg-whiteA-300"></div><div><div class="flex flex-col gap-4"><div class="font-mono uppercase text-xs text-scale-900">Enterprise Consortia Chains</div><a href="/docs/guides/ecc-overview"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7 12 12 22 7 12 2z"></path><path d="M2 17L12 22 22 17"></path><path d="M2 12L12 17 22 12"></path></svg>ECC Overview</li></a><a href="/docs/guides/ecc-lifecycle"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 12V5l-.009-3H3v10.5m0 0A1.5 1.5 0 0 0 4.5 14H13v-1.65L12.991 11H4.5A1.5 1.5 0 0 0 3 12.5ZM5.005 2v4l1.5-1.695L8.005 6V2h-3Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>ECC Lifecycle</li></a><a href="/docs/guides/build-ecc"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.041 14.37v-2.285a3.245 3.245 0 0 0-3.244-3.244M7.317 10H3v4h3.552v-1.916a3.257 3.257 0 0 1 3.245-3.244m0 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM8 6H3V2h10v4h-1.43M3.502 6v4" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Build an ECC</li></a><a href="/docs/guides/deploy-ecc"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg viewBox="0 0 16 16" width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.83 1.453v5.619m-2.809-2.81h5.62M1.338 1.454h5.62v5.619h-5.62V1.453Zm5.827 10.278a3.017 3.017 0 1 1-6.035 0 3.017 3.017 0 0 1 6.035 0ZM9.02 9.038h5.62v5.619H9.02V9.038Z" stroke="currentColor" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Deploy an ECC</li></a></div></div><div class="h-px w-full bg-blackA-300 dark:bg-whiteA-300"></div><div><div class="flex flex-col gap-4"><a href="https://dijets.statuspage.io"><li class="group flex items-center gap-2 text-sm transition-all duration-150 text-scale-1100 hover:text-scale-1200  hover:cursor-pointer "><svg width="16" height="16" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.9895 1.13281C4.64498 1.13281 1.12305 4.65474 1.12305 8.99927C1.12305 13.3438 4.64498 16.8657 8.9895 16.8657C13.334 16.8657 16.856 13.3438 16.856 8.99927C16.856 7.13428 16.207 5.42087 15.1225 4.07258L8.35267 10.8424L6.39571 8.88546M9.06632 4.19659C6.42145 4.19659 4.27737 6.34068 4.27737 8.98555C4.27737 11.6304 6.42145 13.7745 9.06632 13.7745C11.7112 13.7745 13.8553 11.6304 13.8553 8.98555C13.8553 7.99916 13.5571 7.08243 13.0459 6.32059" stroke="#A0A0A0" stroke-miterlimit="10" stroke-linejoin="bevel"></path></svg>Network Status</li></a></div></div></ul></div></div></div></div><div id="docs-content-container" class="w-full h-screen transition-all ease-out absolute lg:relative overflow-auto lg:ml-0"><div class="flex flex-col relative"><div class="lg:sticky top-0 z-10 overflow-hidden"><nav class="h-[60px] border-b backdrop-blur backdrop-filter bg-white-1200 dark:bg-scale-200/90"><div class="px-5 max-w-7xl mx-auto flex gap-3 justify-between items-center h-full"><div class="lg:hidden"><a class=" flex items-center gap-2" href="/docs"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2796%27%20height=%2724%27/%3e"/></span><img alt="Dijets Logo" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="cursor-pointer" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Dijets Logo" src="https://whitelist.dijets.io/dijets-light.svg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="cursor-pointer" loading="lazy"/></noscript></span><span class="font-mono text-sm font-medium text-brand-900">DOCS</span></a></div><div class="flex items-center gap-6"><button type="button" class="md:w-full lg:w-96 order-2 lg:order-1"><div class=" flex group items-center justify-between bg-scaleA-200 border transition hover:border-scale-600 hover:bg-scaleA-300 border-scale-500 pl-1.5 md:pl-3 pr-1.5 w-full h-[32px] rounded"><div class="flex items-center space-x-2"><svg width="18" height="18" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.884 3.91c0-1.567-1.343-2.91-3.175-2.91-1.71 0-3.176 1.231-3.176 2.91 0 .449.122.896.367 1.344a2.515 2.515 0 00-1.222-.336c-1.587.112-2.809 1.344-2.687 2.8 0 .67.245 1.454.733 1.902-.244 0-.366-.112-.61-.112-2.077.336-3.42 2.24-3.054 4.143.244 1.455 1.466 2.574 3.053 2.798.245 0 .367 0 .611-.112-.488.56-.855 1.232-.733 1.903-.122 1.456 1.1 2.687 2.687 2.8.367 0 .855-.113 1.222-.337-.733 1.456-.123 3.135 1.343 3.807 1.588.671 3.42.112 4.152-1.232.245-.448.367-.895.367-1.343V3.799v.112h.122z" stroke="#687076" stroke-linejoin="bevel"></path><path d="M8.633 24.173a3.184 3.184 0 004.397-.111c1.22-1.12 1.22-2.911 0-4.03h-1.71" stroke="#687076" stroke-miterlimit="10"></path><path d="M8.508 1.896c1.221-1.12 3.175-1.12 4.397 0 1.22 1.12 1.22 2.911 0 4.03h-1.466M13.886 12.418h-3.42l-4.275 3.694M5.582 11.299l2.443 3.135M8.023 20.816L9.611 18.8M8.023 5.256l1.1 1.68v2.462M20.24 12.979h-6.595M14.008 16.896h3.297l1.71 2.687M14.008 9.284h3.297l1.71-2.686" stroke="#687076" stroke-miterlimit="10"></path><path d="M22.8 14.995c1.214 0 2.198-.902 2.198-2.015s-.984-2.015-2.198-2.015-2.198.902-2.198 2.015.984 2.015 2.198 2.015zM19.75 23.726c1.213 0 2.198-.903 2.198-2.016s-.985-2.015-2.199-2.015-2.198.902-2.198 2.015.984 2.016 2.198 2.016zM19.75 6.26c1.213 0 2.198-.902 2.198-2.014 0-1.113-.985-2.016-2.199-2.016s-2.198.903-2.198 2.016c0 1.112.984 2.015 2.198 2.015z" stroke="#3fcf8e" stroke-miterlimit="10"></path></svg><p class="hidden md:flex text-[#8585857d] text-[0.7em] tracking-[0.04em] group-hover:text-[#858585b8] transition">ASK HAL ANYTHING ABOUT DIJETS...</p></div><div class="hidden md:flex items-center space-x-1"><div class="text-[#858585b8] md:flex items-center justify-center h-5 w-10 border rounded bg-scale-500 border-scale-700 gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="sbui-icon "><path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path></svg><span class="text-[11px] text-[#858585b8]">K</span></div></div></div></button></div><div class="hidden lg:flex grow items-center justify-end gap-3"><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="" data-state="closed" class=" flex border-none rounded bg-transparent p-0 outline-none outline-offset-1 transition-all focus:outline-4 focus:outline-scale-600 "><span class=" relative cursor-pointer inline-flex items-center space-x-2 text-center font-regular transition ease-out duration-200 rounded outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1   text-scale-1200 bg-scale-100 hover:bg-scale-300 bordershadow-scale-600 hover:bordershadow-scale-700 dark:bordershadow-scale-700 hover:dark:bordershadow-scale-800 dark:bg-scale-500 dark:hover:bg-scale-600 focus-visible:outline-brand-600  shadow-sm text-xs px-2.5 py-1"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="sbui-icon text-scale-900"><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></svg><span class="truncate">Lets Talk</span></span></button><a href="https://forum.dijets.io" target="_blank" rel="noreferrer noopener" class=" relative cursor-pointer inline-flex items-center space-x-2 text-center font-regular transition ease-out duration-200 rounded outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1   text-scale-1200 hover:bg-scale-500 shadow-none focus-visible:outline-scale-700  text-xs px-2.5 py-1"><span class="truncate">Forum</span></a><ul class="flex items-center"><li class="px-4"><div class="cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="sbui-icon text-scale-1100 hover:text-scale-1200 transition"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></div></li></ul></div></div></nav></div><div class="sticky transition-all top-0 z-10 backdrop-blur backdrop-filter bg-white-1200 dark:bg-scale-200"><div class="lg:hidden px-5  border-b z-10"><div class="transition-all ease-out z-10 top-0 false flex items-center h-[40px] gap-3"><button class="mr-2 false"><div class="space-y-1 group cursor-pointer relative w-4 h-[8px]"><span class="transition-all ease-out block w-4 h-px bg-scale-900 group-hover:bg-scale-1200 w-4"></span><span class="transition-all ease-out block h-px bg-scale-900 group-hover:bg-scale-1200 w-3 group-hover:w-4"></span></div></button><div class=""><img src="/docs/img/icons/menu/home.svg" class="transition-all duration-200 w-4 h-4"/></div><span class="transition-all duration-200 text-scale-1200 text-sm">Home</span></div></div></div><div class="grow"><div class="max-w-7xl px-5 mx-auto py-16 pb-0"><div class="grid grid-cols-12 relative gap-4"><div class="relative col-span-12 md:col-span-9 transition-all ease-out duration-100"><article class=" prose dark:prose-dark max-w-none"><h1 class="mb-0">Multisig UTXOs with DijetsJs</h1><div class="w-full h-[1px] bg-scale-500 my-8"></div><h1 id="introduction">Introduction</h1>
<p>An account on a chain that follows the UTXO model much like Bitcoin doesn&#x27;t have the
commonly found parameter like balance. Instead the UTXO Model has a series of outputs
that are generated directly by virtue of the previous transactions. Each output has some amount of asset associated with them. These
outputs can have 1 or multiple owners. The owners are basically the account
addresses that can consume this output.</p>
<p>The outputs are the result of a transaction that can be spent by the owner of
that output. For example, an account has 3 outputs that it can spend, and hence
are currently unspent. That is why we call them Unspent Transaction Outputs
(UTXOs). So it is better to use the term unspent outputs rather than just
outputs. Similarly, we add the amount in the UTXOs owned by an address to
calculate its balance. Signing a transaction basically adds the signature of the
UTXO owners included in the inputs.</p>
<p>Suppose, account Alice wants to send 1.3 DJTX to account Bob, then it has to include all
those unspent outputs in a transaction, that are owned by Alice at that point and whose sum of
amounts in those outputs is more than or equal to 1.3. These UTXOs will be
included as inputs in a transaction. Account Alice also has to create outputs with
amount 1.3 and the owner being the receiver i.e Bob. There could be multiple
outputs in the outputs array. This means, that using these UTXOs, we can create
multiple outputs with different amounts to different addresses.</p>
<p>Once the transaction is committed, the UTXOs in the inputs will be consumed and
outputs will become new UTXOs for the receiver. If the inputs have more amount
unlocked than being consumed by the outputs, then the excess amount will be
burned as fees. Therefore, we should also create a change output which will be
assigned to us, if there is an excess amount in the input. In the diagram given
below, a total of 1.72 DJTX is getting unlocked in inputs, therefore we have
also created a change output for the excess amount (0.41 DJTX) to the sender&#x27;s
address. The remaining amount after being consumed by the outputs like
receiver&#x27;s and change output, is burned as fees (0.01 DJTX).</p>
<p><span class="next-image--dynamic-fill"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="multisig UTXOs 1" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="rounded-md border" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="multisig UTXOs 1" src="/docs/img/multi-utxos-djtx.png" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-md border" loading="lazy"/></noscript></span></span></p>
<h2 id="multi-signature-utxos" class="group scroll-mt-24">Multi-Signature UTXOs<a href="#multi-signature-utxos" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>UTXOs can be associated with multiple addresses. If there are multiple owners of
a UTXO, then we must note the <code class="short-inline-codeblock">threshold</code> value. We have to include signatures
of a threshold number of UTXO owners with the unsigned transaction to consume
UTXOs present in the inputs. The threshold value of a UTXO is set while issuing
the transaction.</p>
<p>We can use these multi-sig UTXOs as inputs for multiple purposes and not only
for sending assets. For example, we can use them to create Subnets, add
delegators, add validators, etc.</p>
<h2 id="atomic-transactions" class="group scroll-mt-24">Atomic Transactions<a href="#atomic-transactions" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>On Dijets, we can even create cross-chain outputs. This means that we can do
a native cross-chain transfer of assets. These are made possible through
<strong>Atomic Transactions</strong>. This is a 2-step process -</p>
<ul>
<li>Export transaction on source chain</li>
<li>Import transactions on the destination chain</li>
</ul>
<p>Atomic transactions are similar to other transactions. We use UTXOs of the
source chain as inputs and create outputs owned by destination chain addresses.
When the export transactions are issued, the newly created UTXOs stay in the
<strong>Exported Atomic Memory</strong>. These are neither on the source chain nor on the
destination chain. These UTXOs can only be used as inputs by their owners on the
destination chain while making import transactions. Using these UTXOs on the
atomic memory, we can create multiple outputs with different amounts or
addresses.</p>
<p><span class="next-image--dynamic-fill"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="multisig UTXOs 1" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill" class="rounded-md border" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="multisig UTXOs 1" src="/docs/img/multi-utxos-djtx2.png" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-md border" loading="lazy"/></noscript></span></span></p>
<h2 id="utxos-on-utility-chain" class="group scroll-mt-24">UTXOs on Utility Chain<a href="#utxos-on-utility-chain" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Dijets Utility Chain is an instance of Ethereum Virtual Machine. Unlike the Value and Method Chain, UTXOs can&#x27;t be
created on Utility Chain to do regular transactions because Utility Chain follows
the account-based approach of Ethereum. In Utility Chain, each address (account) is mapped with
its balance, and the assets are transferred simply by adding and subtracting
from this balance using the virtual machine.</p>
<p>But we can export UTXOs with one or multiple owners to Utility Chain and then import
them by signing the transaction with the qualified spenders containing those
UTXOs as inputs. The output on Utility Chain can only have a single owner (a
hexadecimal address). Similarly while exporting from Utility Chain to other chains, we
can have multiple owners for the output, but input will be signed only by the
account whose balance is getting used.</p>
<h2 id="getting-hands-on-multi-signature-utxos" class="group scroll-mt-24">Getting Hands-on Multi-Signature UTXOs<a href="#getting-hands-on-multi-signature-utxos" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Next, we will make utility and other helpful functions, so that, we can use them
to create multi-sig UTXOs and spend them with ease. These functions will extract
common steps into a function so that we do not have to follow each step every
time we are issuing a transaction.</p>
<h2 id="setting-up-project" class="group scroll-mt-24">Setting Up Project<a href="#setting-up-project" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Make a new directory <code class="short-inline-codeblock">multisig</code> for keeping all the project codes and move
there. First, let&#x27;s install the required dependencies.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>npm install --save dijets dotenv</span></div></div><br/></code></div></div>
<p>Now create a configuration file named <code class="short-inline-codeblock">config.js</code> for storing all the pieces of
information regarding the network and chain we are connecting to. Since we are
making transactions on the Dijets TestNet, its network ID is 5. You can change the
configuration according to the network you are using.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>require(&quot;dotenv&quot;).config()</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>module.exports = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  protocol: &quot;https&quot;,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  ip: &quot;dijets.ukwest.cloudapp.azure.com&quot;,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  port: 443,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  networkID: 5,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  privateKeys: JSON.parse(process.env.PRIVATEKEYS),</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  mnemonic: process.env.MNEMONIC,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>Create an <code class="short-inline-codeblock">.env</code> file for storing sensitive information which we can&#x27;t make
public like the private keys or the mnemonic. Here are the sample private keys,
which you should not use. You can create a new account on <a href="https://wallet.dijets.io">Dijets
Wallet</a> and paste the mnemonic here for
demonstration.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>PRIVATEKEYS=`[</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    &quot;PrivateKey-ewoqjP7PxY4yr3iLTpLisriqt94hdyDFNgchSxGGztUrTXtNN&quot;,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    &quot;PrivateKey-R6e8f5QSa89DjpvL9asNdhdJ4u8VqzMJStPV8VVdDmLgPd8a4&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>]`</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>MNEMONIC=&quot;apple chair appear...&quot;</span></div></div><br/></code></div></div>
<h2 id="setting-up-apis-and-keychains" class="group scroll-mt-24">Setting Up APIs and Keychains<a href="#setting-up-apis-and-keychains" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Create a file <code class="short-inline-codeblock">importAPI.js</code> for importing and setting up all the necessary
APIs, Keychains, addresses, etc. Now paste the following snippets into the file.</p>
<h3 id="importing-dependencies-and-configurations" class="group scroll-mt-24">Importing Dependencies and Configurations<a href="#importing-dependencies-and-configurations" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>We need dependencies like the DijetsJs module and other configurations. Let&#x27;s import them at the top.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const { Dijets, BinTools, BN } = require(&quot;dijets&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const Web3 = require(&quot;web3&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const MnemonicHelper = require(&quot;dijets/dist/utils/mnemonic&quot;).default</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const HDNode = require(&quot;dijets/dist/utils/hdnode&quot;).default</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const { privateToAddress } = require(&quot;ethereumjs-util&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>// Importing node details and Private key from the config file.</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const {</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  ip,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  port,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  protocol,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  privateKeys,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  mnemonic,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>} = require(&quot;./config.js&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>let { djtxAssetID, chainIDs } = require(&quot;./constants.js&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>// For encoding and decoding to CB58 and buffers.</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const bintools = BinTools.getInstance()</span></div></div><br/></code></div></div>
<h3 id="setup-dijets-apis" class="group scroll-mt-24">Setup Dijets APIs<a href="#setup-dijets-apis" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>To make API calls to the Dijets network and to its Ternary Chain Ledgers of
Value Chain, Method Chain and Utility Chain, let&#x27;s set up these by adding the following code
snippets.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Dijets instance</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const dijets = new Dijets(ip, port, protocol, networkID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const nodeURL = `${protocol}://${ip}:${port}/ext/bc/C/rpc`</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const web3 = new Web3(nodeURL)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>// Method and Djtx API</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const platform = dijets.MethodChain()</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const djtx = dijets.ValueChain()</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const evm = dijets.UtilityChain()</span></div></div><br/></code></div></div>
<h3 id="setup-keychains-with-private-keys" class="group scroll-mt-24">Setup Keychains with Private Keys<a href="#setup-keychains-with-private-keys" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>In order to sign transactions with our private keys, we will use the DijetsJs
keychain API. This will locally store our private keys and can be easily used
for signing.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>// Keychain for signing transactions</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>const keyChains = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  x: djtx.keyChain(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  p: platform.keyChain(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  c: evm.keyChain(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>function importPrivateKeys(privKey) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  keyChains.x.importKey(privKey)</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  keyChains.p.importKey(privKey)</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  keyChains.c.importKey(privKey)</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>We can either use mnemonic phrases to derive private keys from it or simply use just the private key for importing keys into the keychain. We can use the following
function to get private keys from the mnemonic and address index which we want.
For the purpose of this guide, we will use addresses at index 0 and 1.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>function getPrivateKey(mnemonic, activeIndex = 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>  const mnemonicHelper = new MnemonicHelper()</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>  const seed = mnemonicHelper.mnemonicToSeedSync(mnemonic)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>  const hdNode = new HDNode(seed)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>  const dijetsPath = `m/44&#x27;/120&#x27;/0&#x27;/0/${activeIndex}`</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>  return hdNode.derive(dijetsPath).privateKeyCB58</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>// importing keys in the key chain - use this if you have any private keys</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>// privateKeys.forEach((privKey) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>// 	importPrivateKeys(privKey)</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>// })</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>// importing private keys from mnemonic</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>importPrivateKeys(getPrivateKey(mnemonic, 0))</span></div></div><div><span class="ch-code-line-number">_<!-- -->18</span><div style="display:inline-block;margin-left:16px"><span>importPrivateKeys(getPrivateKey(mnemonic, 1))</span></div></div><br/></code></div></div>
<h3 id="setup-addresses-and-chain-ids" class="group scroll-mt-24">Setup Addresses and Chain IDs<a href="#setup-addresses-and-chain-ids" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>For creating transactions we might need addresses of different formats like
<code class="short-inline-codeblock">Buffer</code> or <code class="short-inline-codeblock">Bech32</code> etc. And to make issue transactions on different chains we
need their <code class="short-inline-codeblock">chainID</code>. Paste the following snippet to achieve the same.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// Buffer representation of addresses</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>const addresses = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  x: keyChains.x.getAddresses(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  p: keyChains.p.getAddresses(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  c: keyChains.c.getAddresses(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// String representation of addresses</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>const addressStrings = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  x: keyChains.x.getAddressStrings(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  p: keyChains.p.getAddressStrings(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  c: keyChains.c.getAddressStrings(),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>djtxAssetID = bintools.cb58Decode(djtxAssetID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>chainIDs = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  x: bintools.cb58Decode(chainIDs.x),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  p: bintools.cb58Decode(chainIDs.p),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  c: bintools.cb58Decode(chainIDs.c),</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>// Exporting these for other files to use</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>module.exports = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  platform,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  djtx,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  evm,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  keyChains,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  addressStrings,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  chainIDs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  bintools,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  web3,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>  BN,</span></div></div><div><span class="ch-code-line-number">_<!-- -->37</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>We can use the above-exported variables and APIs from other files as required.</p>
<h2 id="creating-utility-functions" class="group scroll-mt-24">Creating Utility Functions<a href="#creating-utility-functions" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>While creating multi-sig transactions, we have a few things in common, like
creating inputs with the UTXOs, creating outputs, and adding signature indexes.
So let&#x27;s create a file named <code class="short-inline-codeblock">utils.js</code> and paste the following snippets that we
can call every time we want to do a repetitive task.</p>
<h3 id="getting-dependencies" class="group scroll-mt-24">Getting Dependencies<a href="#getting-dependencies" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Inputs and outputs are an array of transferable input and transferable output.
These contain transfer inputs and associated assetID which is being transferred.
There are different types of transfer inputs/outputs for sending assets, minting
assets, minting NFTs, etc.</p>
<p>We will be using <code class="short-inline-codeblock">SECPTransferInput/SECPTransferOutput</code> for sending our assets.</p>
<p>But since we can&#x27;t use UTXOs on Dijets EVM instance, the Utility Chain, we cannot directly import them either.
Therefore we need to create a different type of input/output for them called
<code class="short-inline-codeblock">EVMInput/EVMOutput</code>.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>const { BN, chainIDs, web3 } = require(&quot;./importAPI&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>let SECPTransferInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  TransferableInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  SECPTransferOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  TransferableOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  EVMInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  EVMOutput</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>const getTransferClass = (chainID) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  let vm = &quot;&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  if (chainID.compare(chainIDs.x) == 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    vm = &quot;avm&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  } else if (chainID.compare(chainIDs.p) == 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    vm = &quot;platformvm&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  } else if (chainID.compare(chainIDs.c) == 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    vm = &quot;evm&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  return ({</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    SECPTransferInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    TransferableInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    SECPTransferOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    TransferableOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    EVMInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    EVMOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>    index,</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>  } = require(`dijets/dist/apis/${vm}/index`))</span></div></div><div><span class="ch-code-line-number">_<!-- -->28</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>Different chains have their own implementation of TransferInput/Output classes.
Therefore we need to update the required modules according to the chain we
issuing transactions on. To make it more modular, we created a
<code class="short-inline-codeblock">getTransferClass()</code> function, that will take <code class="short-inline-codeblock">chainID</code> and import modules as
required.</p>
<h3 id="creating-transferable-output" class="group scroll-mt-24">Creating Transferable Output<a href="#creating-transferable-output" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>The <code class="short-inline-codeblock">createOutput()</code> function will create and return the transferable output
according to arguments amount, assetID, owner addresses, lock time, and
threshold. Lock time represents the timestamp after which this output could be
spent. Mostly this parameter will be 0.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const createOutput = (amount, assetID, addresses, locktime, threshold) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  let transferOutput = new SECPTransferOutput(</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    amount,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    locktime,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>    threshold</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  return new TransferableOutput(assetID, transferOutput)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<h3 id="creating-transferable-input" class="group scroll-mt-24">Creating Transferable Input<a href="#creating-transferable-input" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>The <code class="short-inline-codeblock">createInput()</code> function will create and return transferable input. Input
require arguments like amount in the UTXO, and arguments which identify that
UTXO, like txID of the transaction which the UTXO was the output of, <code class="short-inline-codeblock">outputIndex</code>
(index of the output in that TX), and qualified signatures (output spenders
which are present in our keychain) whose signature will be required while
signing this transaction.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>const createInput = (</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  amount,</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  txID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  outputIndex,</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  assetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  spenders,</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  threshold</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  // creating transfer input</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  let transferInput = new SECPTransferInput(amount)</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  // adding threshold signatures</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  addSignatureIndexes(spenders, threshold, transferInput)</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  // creating transferable input</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>  return new TransferableInput(txID, outputIndex, assetID, transferInput)</span></div></div><div><span class="ch-code-line-number">_<!-- -->17</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<h3 id="add-signature-indexes" class="group scroll-mt-24">Add Signature Indexes<a href="#add-signature-indexes" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>The <code class="short-inline-codeblock">createSignatureIndexes()</code> function will add spender addresses along with an
index for each address in the transfer input. While signing the unsigned
transaction, these signature indexes will be used.</p>
<p>By adding signature indexes we are not signing the inputs but just adding a
placeholder of the address at a particular index whose signature is required
when we call the <code class="short-inline-codeblock">.sign()</code> function on the unsigned transactions. Once the
threshold spender addresses are added, it will exit.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>const addSignatureIndexes = (addresses, threshold, input) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>  let sigIndex = 0</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>  addresses.every((address) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>    if (threshold &gt; 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>      input.addSignatureIdx(sigIndex, address)</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>      sigIndex++</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>      threshold--</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>      return true</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>    } else {</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>      return false</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><span class="ch-code-line-number">_<!-- -->13</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<h3 id="create-evm-input" class="group scroll-mt-24">Create EVM Input<a href="#create-evm-input" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>As explained earlier, we do not have UTXOs on Utility Chain. Therefore we cannot make
regular inputs. The following function <code class="short-inline-codeblock">createEVMInput()</code> will create the
required input and add a signature index corresponding to the address specified
in the input.</p>
<p>EVM Inputs are required when we want to export assets from Utility Chain. In the
following function, <code class="short-inline-codeblock">addresses</code> is the array of Buffer addresses but for
<code class="short-inline-codeblock">Utility Chain Export Transactions</code>, a hex address is also appended at last.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const createEVMInput = (amount, addresses, assetID, nonce) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  const hexAddress = addresses.at(-1)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  const evmInput = new EVMInput(hexAddress, amount, assetID, nonce)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  evmInput.addSignatureIdx(0, addresses[0])</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  return evmInput</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<h3 id="create-evm-output" class="group scroll-mt-24">Create EVM Output<a href="#create-evm-output" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>The <code class="short-inline-codeblock">createEVMOutput()</code> function will create EVM output for importing assets on Utility Chain.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const createEVMOutput = (amount, hexAddress, assetID) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  return new EVMOutput(hexAddress, amount, assetID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<h3 id="update-transfer-class" class="group scroll-mt-24">Update Transfer Class<a href="#update-transfer-class" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Let&#x27;s make a small function that will call the <code class="short-inline-codeblock">getTransferClass()</code> according to the <code class="short-inline-codeblock">chainID</code>.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>const updateTransferClass = (chainID) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>  {</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>    SECPTransferInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>      TransferableInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>      SECPTransferOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>      TransferableOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>      EVMInput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>      EVMOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>      (index = getTransferClass(chainID))</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->11</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<h3 id="add-utxos-to-inputs" class="group scroll-mt-24">Add UTXOs to Inputs<a href="#add-utxos-to-inputs" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>We have <code class="short-inline-codeblock">inputs</code> as an array of UTXOs that will be consumed in the transaction.
The <code class="short-inline-codeblock">updateInputs()</code> function will take UTXOs, <code class="short-inline-codeblock">addresses</code> whose credentials we
have for signing, <code class="short-inline-codeblock">assetID</code> and <code class="short-inline-codeblock">toBeUnlocked</code> that is amount we want to consume.
<code class="short-inline-codeblock">toBeUnlocked</code> contains everything we want to consume including transfer amount,
fees, stake amount (if any), etc.</p>
<p>We also have a special variable <code class="short-inline-codeblock">C</code>, that will indicate the type of transaction
which is associated with the Utility Chain. This is required because -</p>
<ul>
<li>Export from Utility Chain (C.export == true) - These types of transactions cannot
have UTXOs as inputs and therefore <code class="short-inline-codeblock">EVMInput</code> is created.</li>
<li>Import to Utility Chain (C.import == true) - The outputs imported on Utility Chain from exported UTXOs are <code class="short-inline-codeblock">EVMOutput</code>.</li>
</ul>
<p>It will create inputs with the passed UTXOs worth the <code class="short-inline-codeblock">toBeUnlocked</code> amount. But
if there is a UTXO that when included, will surpass the <code class="short-inline-codeblock">toBeUnlocked</code> amount,
then it will create a change output with the qualified spenders as their new
owners with the surpassed amount.</p>
<p>This function will return the <code class="short-inline-codeblock">inputs</code> array containing all the unlocked UTXOs,
change transferable output, and the net balance included in these inputs. Now
add the following function snippet.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>const updateInputs = async (</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  utxos,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  C,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  assetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  toBeUnlocked,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  chainID</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  // Getting transferable inputs according to chain id</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  updateTransferClass(chainID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  let inputs = [],</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>    changeTransferableOutput = undefined,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>    netInputBalance = new BN(0)</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  if (C.export) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>    const nonce = await web3.eth.getTransactionCount(addresses.at(-1))</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>    inputs.push(createEVMInput(toBeUnlocked, addresses, assetID, nonce))</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  } else {</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>    utxos.forEach((utxo) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>      let output = utxo.getOutput()</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>      if (</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        output.getOutputID() === 7 &amp;&amp;</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        assetID.compare(utxo.getAssetID()) === 0 &amp;&amp;</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        netInputBalance &lt; toBeUnlocked</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>      ) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        let outputThreshold = output.getThreshold()</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        // spenders which we have in our keychain</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        let qualifiedSpenders = output.getSpenders(addresses)</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        // create inputs only if we have custody of threshold or more number of utxo spenders</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        if (outputThreshold &lt;= qualifiedSpenders.length) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          let txID = utxo.getTxID()</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          let outputIndex = utxo.getOutputIdx()</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          let utxoAmount = output.amountValue</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          let outputLocktime = output.getLocktime()</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          netInputBalance = netInputBalance.add(utxoAmount)</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          let excessAmount = netInputBalance.sub(toBeUnlocked)</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          // creating change transferable output</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          if (excessAmount &gt; 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>            if (!C.import) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>              changeTransferableOutput = createOutput(</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>                excessAmount,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>                assetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>                qualifiedSpenders,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>                outputLocktime,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>                outputThreshold</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>              )</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>            }</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          }</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          // create transferable input</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          let transferableInput = createInput(</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>            utxoAmount,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>            txID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>            outputIndex,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>            assetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>            qualifiedSpenders,</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>            outputThreshold</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          )</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>          inputs.push(transferableInput)</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>        }</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>      }</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>    })</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>  return { inputs, changeTransferableOutput }</span></div></div><div><span class="ch-code-line-number">_<!-- -->72</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>Only those UTXOs will be included whose output ID is <code class="short-inline-codeblock">7</code> representing
<code class="short-inline-codeblock">SECPTransferOutput</code>. These outputs are used for transferring assets. Also, we
are only including outputs containing <code class="short-inline-codeblock">DJTX</code> assets. These conditions are
checked in the following line -</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>if(output.getOutputID() === 7 &amp;&amp; assetID.compare(utxo.getAssetID()) === 0 &amp;&amp; netInputBalance &lt; toBeUnlocked) {</span></div></div><br/></code></div></div>
<p>The following part in the above function creates the change output if the total
included balance surpasses the required amount and the transaction is not a
Utility Chain export -</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>netInputBalance = netInputBalance.add(utxoAmount)</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>let excessAmount = netInputBalance.sub(toBeUnlocked)</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>// creating change transferable output</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>if (excessAmount &gt; 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>  if (!C.import) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>    changeTransferableOutput = createOutput(</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>      excessAmount,</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>      assetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>      qualifiedSpenders,</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>      outputLocktime,</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>      outputThreshold</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>    )</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->16</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<h3 id="export-utility-functions" class="group scroll-mt-24">Export Utility Functions<a href="#export-utility-functions" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Now paste the following snippet to export these utility functions.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>module.exports = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  createOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  createEVMOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  updateInputs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>All the utility functions are created.</p>
<h2 id="create-inputs-and-outputs" class="group scroll-mt-24">Create Inputs and Outputs<a href="#create-inputs-and-outputs" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Let&#x27;s create a function that will return the array of sufficient UTXOs stuffed
inside an array and necessary outputs like send output, multi-sig output, evm
output, change output, etc. This function is basically a wrapper that
orchestrates the utility and other functions to generate inputs and outputs from
parameters like addresses, asset id, chain id, output arguments (to, threshold
and amount), etc.</p>
<p>Now make a new file <code class="short-inline-codeblock">createInputsAndOutputs.js</code> and paste the following snippets of code inside it.</p>
<h3 id="importing-dependencies" class="group scroll-mt-24">Importing Dependencies<a href="#importing-dependencies" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>We need to import utility functions for creating outputs and inputs with the UTXOs.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const { BN, djtx, platform, evm, chainIDs, bintools } = require(&quot;./importAPI&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const { createOutput, createEVMOutput, updateInputs } = require(&quot;./utils&quot;)</span></div></div><br/></code></div></div>
<p><code class="short-inline-codeblock">EVMInput</code> should be used as inputs while creating an export transaction from
Utility Chain and <code class="short-inline-codeblock">EVMOutput</code> should be used as outputs while creating an import
transaction on Utility Chain. To make it easier to decide when to do what, let&#x27;s make
a function <code class="short-inline-codeblock">checkChain()</code> that will return an object <code class="short-inline-codeblock">C</code> (described earlier).</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const checkChain = (chainID, ownerAddress) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  let C = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    export: false,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    import: false,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  if (chainID.compare(chainIDs.c) == 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    if (typeof ownerAddress == &quot;string&quot; &amp;&amp; bintools.isHex(ownerAddress)) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>      C.import = true</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    } else {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>      C.export = true</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  return C</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>For getting UTXOs from an address, let&#x27;s make another function
<code class="short-inline-codeblock">getUnspentOutputs()</code>. This function will fetch UTXOs from a given address and
source chain. The <code class="short-inline-codeblock">sourceChain</code> will be used to fetch exported UTXOs that are
not yet imported. The exported outputs stay in the exported atomic memory. This
parameter will only be used when we want to import assets.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>// UTXOs for spending unspent outputs</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const getUnspentOutputs = async (</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  chainID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  sourceChain = undefined</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  let utxoSet</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  if (chainID.compare(chainIDs.x) == 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    utxoSet = await djtx.getUTXOs(addresses, sourceChain)</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  } else if (chainID.compare(chainIDs.p) == 0) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    utxoSet = await platform.getUTXOs(addresses, sourceChain)</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  return utxoSet.utxos.getAllUTXOs()</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>Now for organizing inputs and outputs and adding required signature indexes (not
signatures) for each unspent output, adding change output, etc, we will make a
<code class="short-inline-codeblock">createInputsAndOutputs()</code> function. Paste the following snippet next.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>const createInputsAndOutputs = async (</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  assetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  chainID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  addressStrings,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  outputConfig,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  fee,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  sourceChain</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  let locktime = new BN(0)</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  let C = checkChain(chainID, outputConfig[0].owners)</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  let utxos = []</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  if (C.export) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    addresses.push(&quot;0x3b0e59fc2e9a82fa5eb3f042bc5151298e4f2cab&quot;) // getHexAddress(addresses[0])</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  } else {</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    utxos = await getUnspentOutputs(addressStrings, chainID, sourceChain)</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  let toBeUnlocked = fee</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  outputConfig.forEach((output) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    toBeUnlocked = toBeUnlocked.add(output.amount)</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  // putting right utxos in the inputs</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  let { inputs, changeTransferableOutput } = await updateInputs(</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    utxos,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    C,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    assetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    toBeUnlocked,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    chainID</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  let outputs = []</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  // creating transferable outputs and transfer outputs</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  outputConfig.forEach((output) =&gt; {</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    let newOutput</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    if (!C.import) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>      newOutput = createOutput(</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>        output.amount,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>        assetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>        output.owners,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>        locktime,</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>        output.threshold</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>      )</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    } else {</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>      newOutput = createEVMOutput(output.amount, output.owners, assetID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    }</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    outputs.push(newOutput)</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  // pushing change output (if any)</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  if (changeTransferableOutput != undefined &amp;&amp; !C.import) {</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>    outputs.push(changeTransferableOutput)</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>  return { inputs, outputs }</span></div></div><div><span class="ch-code-line-number">_<!-- -->61</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>Output config is basically an array of all outputs that we want to create. This
excludes the change output because it will be automatically created. It has the
following structure.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>// Regular outputs</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>;[</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    amount: BigNumber,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    owners: [Buffer],</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    threshold: Number,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  },</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>][</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  // Import to Utility Chain</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    amount: BigNumber,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>    owners: &quot;hex address string&quot;,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  }</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>]</span></div></div><br/></code></div></div>
<p>You will learn about these arguments and how we can actually pass this along
with other arguments through the examples ahead.</p>
<h3 id="exporting-functions" class="group scroll-mt-24">Exporting Functions<a href="#exporting-functions" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Add the following snippet to export this function.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>module.exports = {</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>  createInputsAndOutputs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>We have created all the utility and helper functions. You can use this project
structure to create different types of transactions like BaseTx, Export, Import,
AddDelegator, etc. You should have the following files in your project now -</p>
<ul>
<li><strong>.env</strong> - Secret file storing data like mnemonic and private keys</li>
<li><strong>config.js</strong> - Network information and parsed data from <code class="short-inline-codeblock">.env</code></li>
<li><strong>constants.js</strong> - Asset and Chain specific static data</li>
<li><strong>importAPI.js</strong> - Import and setup apis, addresses and keychains</li>
<li><strong>utils.js</strong> - Utility functions for creating inputs and outputs</li>
<li><strong>createInputsAndOutputs.js</strong> - Wrapper of <code class="short-inline-codeblock">utility.js</code> for orchestrating utility functions.</li>
</ul>
<p>Follow the next steps for <strong>examples</strong> and on how to use these functions.</p>
<h2 id="examples" class="group scroll-mt-24">Examples<a href="#examples" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Now let&#x27;s look at the examples for executing these transactions. For example, we
will create a separate <code class="short-inline-codeblock">examples</code> folder. In order to run the example scripts,
you must be in the root folder where all the environment variables and
configurations are kept.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>node examples/send.js</span></div></div><br/></code></div></div>
<h2 id="multi-signature-base-tx-on-value-chain" class="group scroll-mt-24">Multi-Signature Base TX on Value Chain<a href="#multi-signature-base-tx-on-value-chain" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Let&#x27;s create a base transaction that converts a single-owner UTXO into a
multi-sig UTXO. The final UTXO can be used by new owners of the unspent output
by adding their signatures for each output. Create a new file <code class="short-inline-codeblock">sendBaseTx.js</code>
and paste the following snippets.</p>
<h3 id="import-dependencies" class="group scroll-mt-24">Import Dependencies<a href="#import-dependencies" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Import the necessary dependencies like <code class="short-inline-codeblock">keyChains</code>, <code class="short-inline-codeblock">addresses</code>, <code class="short-inline-codeblock">utility</code>
functions, <code class="short-inline-codeblock">UnSignedTx</code> and <code class="short-inline-codeblock">BaseTx</code> classes etc.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  keyChains,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  chainIDs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  addressStrings,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  BN,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  djtx,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>} = require(&quot;../importAPI&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const { UnsignedTx, BaseTx } = require(&quot;dijets/dist/apis/avm/index&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const { createInputsAndOutputs } = require(&quot;../createMultisig&quot;)</span></div></div><br/></code></div></div>
<h3 id="send-basetx" class="group scroll-mt-24">Send BaseTx<a href="#send-basetx" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Now create the <code class="short-inline-codeblock">sendBaseTx()</code> function to be called for sending base TX to the network.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>async function sendBaseTx() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  let memo = Buffer.from(&quot;Multisig Base Tx&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  // unlock amount = sum(output amounts) + fee</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  let fee = new BN(1e6)</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  // creating outputs of 0.5 (multisig) and 0.1 DJTX - change output will be added by the function in the last</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  let outputConfig = [</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>      amount: new BN(5e8),</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>      owners: addresses.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>      threshold: 2,</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>      amount: new BN(1e8),</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>      owners: [addresses.x[1]],</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>      threshold: 1,</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  ]</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  let { inputs, outputs } = await createInputsAndOutputs(</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    addresses.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    addressStrings.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    outputConfig,</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>    fee</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  const baseTx = new BaseTx(networkID, chainIDs.x, outputs, inputs, memo)</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  const unsignedTx = new UnsignedTx(baseTx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  const tx = unsignedTx.sign(keyChains.x)</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  const txID = await djtx.issueTx(tx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>  console.log(&quot;TxID:&quot;, txID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->36</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>We have created the BaseTx with the following output configuration -</p>
<ul>
<li>Multi-sig output of value 0.5 DJTX with threshold 2 and owners represented by
<code class="short-inline-codeblock">addresses.x</code>. The owners are basically an array of addresses in Buffer
representation.</li>
<li>Single owner output of value 0.1 DJTX.</li>
</ul>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>let outputConfig = [</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  {</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    amount: new BN(5e8),</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    owners: addresses.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    threshold: 2,</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  },</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  {</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    amount: new BN(1e8),</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    owners: [addresses.x[1]],</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>    threshold: 1,</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>  },</span></div></div><div><span class="ch-code-line-number">_<!-- -->12</span><div style="display:inline-block;margin-left:16px"><span>]</span></div></div><br/></code></div></div>
<p>Let&#x27;s discuss the arguments of <code class="short-inline-codeblock">createInputsAndOutputs()</code> in detail -</p>
<ul>
<li><code class="short-inline-codeblock">assetID</code> - ID of the asset involved in transaction</li>
<li><code class="short-inline-codeblock">chainID</code> - ID of the chain on which this transaction will be issued</li>
<li><code class="short-inline-codeblock">addresses</code> - Addresses buffer array whose UTXO will be consumed</li>
<li><code class="short-inline-codeblock">addressStrings</code> - Addresses string array whose UTXO will be consumed</li>
<li><code class="short-inline-codeblock">outputConfig</code> - Array of output object containing amount, owners and threshold</li>
<li><code class="short-inline-codeblock">fee</code> - Fee for this transaction to be consumed in inputs</li>
<li><code class="short-inline-codeblock">sourceChain</code> - Chain from which UTXOs will be fetched. Will take <code class="short-inline-codeblock">chainID</code> as default.</li>
</ul>
<p>In the above parameters, if <code class="short-inline-codeblock">fee</code> is less than the fees actually required for
that transaction, then there will be no surplus amount left by outputs over
inputs because any surplus will be converted into a change output. This can
cause transaction failure. So keep the fees in accordance with the transaction
as mentioned <a href="../quickstart/transaction-fees.md#fee-schedule">here</a>.</p>
<p>Also, the <code class="short-inline-codeblock">sourceChain</code> parameter is required for fetching exported UTXOs that
do not exist yet on the destination chain. For non-export/import transactions,
this parameter is not required.</p>
<p>The <code class="short-inline-codeblock">createInputsAndOutputs()</code> function will return <code class="short-inline-codeblock">inputs</code> and <code class="short-inline-codeblock">outputs</code>
required for any transaction. The last element of the outputs array would be
change output. And the order of other outputs will be the same as that in the
<code class="short-inline-codeblock">outputConfig</code>. Signature indexes corresponding to their owners are already
included in the inputs. We can create an unsigned base transaction using the
<code class="short-inline-codeblock">BaseTx</code> and <code class="short-inline-codeblock">UnsignedTx</code> classes as shown above. The <code class="short-inline-codeblock">.sign()</code> function
basically adds the required signatures from the keychain at the place indicated
by signature indexes.</p>
<p>Once the multi-sig UTXO is created, this UTXO can only be used if we have the
threshold signers in our keychain. The <code class="short-inline-codeblock">util</code> functions can be tweaked a little
bit to create and return inputs with a part number of signers (less than the threshold). We
can then partially sign the inputs and ask other owners to add signature indices
and sign.</p>
<p>Now call the <code class="short-inline-codeblock">sendBaseTx()</code> function by adding this line</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>sendBaseTx()</span></div></div><br/></code></div></div>
<p>Run this file using <code class="short-inline-codeblock">node examples/sendBaseTx.js</code>, note the txID in the output,
and look for it in the Dijets Unified explorer.</p>
<h2 id="export-multi-sig-utxo-from-x-to-method-chain" class="group scroll-mt-24">Export Multi-Sig UTXO From X to Method Chain<a href="#export-multi-sig-utxo-from-x-to-method-chain" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Now we will look into exporting assets from the Value to Method Chain. It will be similar
to the BaseTx example, with few differences in output ordering and cross-chain
owner addresses.</p>
<p>Make a new file named <code class="short-inline-codeblock">exportXP.js</code> and paste the following snippets.</p>
<h3 id="import-dependencies" class="group scroll-mt-24">Import Dependencies<a href="#import-dependencies" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>This time we will require <code class="short-inline-codeblock">ExportTx</code> instead of <code class="short-inline-codeblock">BaseTx</code> class.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  keyChains,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  chainIDs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  addressStrings,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  BN,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  djtx,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>} = require(&quot;../importAPI&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const { UnsignedTx, ExportTx } = require(&quot;dijets/dist/apis/avm/index&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const { createInputsAndOutputs } = require(&quot;../createMultisig&quot;)</span></div></div><br/></code></div></div>
<h3 id="send-export-transaction" class="group scroll-mt-24">Send Export Transaction<a href="#send-export-transaction" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Most of the things will be very much similar in this function. You can have a
look at <code class="short-inline-codeblock">outputConfig</code>, which creates a multi-sig output for addresses on
Method Chain. These addresses will be required for signing <code class="short-inline-codeblock">importTx</code> on Method Chain.</p>
<p>The <code class="short-inline-codeblock">fee</code> here will only be for exporting the asset. The import fees will be
deducted from the UTXOs present on the <strong>Exported Atomic Memory</strong>, a memory
location where UTXOs lie after getting exported but before being imported. If
there is only a single UTXO, then it will be deducted from it.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>async function exportXP() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  let memo = Buffer.from(&quot;Multisig Export Tx&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  // consuming amount = sum(output amount) + fee</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  let fee = new BN(1e6)</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  // creates mutlti-sig (0.1 DJTX) and single-sig (0.03 DJTX) output for exporting to P Address (0.001 DJTX will be fees)</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  let outputConfig = [</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>      amount: new BN(3e6),</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>      owners: [addresses.p[0]],</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>      threshold: 1,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>      amount: new BN(1e8),</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>      owners: addresses.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>      threshold: 2,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  ]</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  // importing fees will be deducted from these our other outputs in the exported output memory</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  let { inputs, outputs } = await createInputsAndOutputs(</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    addresses.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    addressStrings.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    outputConfig,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    fee</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  // outputs at index 0 and 1 are to be exported</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  const exportTx = new ExportTx(</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    [outputs.at(-1)],</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    inputs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    memo,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>    [outputs[0], outputs[1]]</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  const unsignedTx = new UnsignedTx(exportTx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  const tx = unsignedTx.sign(keyChains.x)</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  const txID = await djtx.issueTx(tx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>  console.log(&quot;TxID:&quot;, txID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->46</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>Another point to note is how inputs, outputs, and <code class="short-inline-codeblock">exportedOutputs</code> are passed here.</p>
<ul>
<li>Inputs are as usual passed for the <code class="short-inline-codeblock">ins</code> parameter of the <code class="short-inline-codeblock">ExportTx</code> class.</li>
<li>But only <code class="short-inline-codeblock">outputs. at(-1)</code> representing change output (last element) is passed
in place of the usual <code class="short-inline-codeblock">outs</code> parameter.</li>
<li>The last parameter of this class is <code class="short-inline-codeblock">exportedOuts</code>, representing the outputs that
will be exported from this chain to <code class="short-inline-codeblock">destinationChain</code> (2nd last parameter).</li>
</ul>
<p>All these inputs and outputs are array, and hence con contains multiple outputs
or inputs. But you have to manage which output should be passed where.</p>
<p>Call the function by adding the below function call.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>exportXP()</span></div></div><br/></code></div></div>
<p>Run this file using <code class="short-inline-codeblock">node examples/exportXP.js</code>. A transaction ID is generated upon successful execution.</p>
<p>In the above image, we are consuming UTXO with the amount <code class="short-inline-codeblock">0.486...</code>, and
generating outputs with the amount <code class="short-inline-codeblock">0.382...</code> (change output) and <code class="short-inline-codeblock">0.003</code> and
<code class="short-inline-codeblock">0.1</code> (exported output). The remaining <code class="short-inline-codeblock">0.001</code> is burned as transaction fees.</p>
<h2 id="import-multi-sig-utxo-from-x-to-method-chain" class="group scroll-mt-24">Import Multi-Sig UTXO From X to Method Chain<a href="#import-multi-sig-utxo-from-x-to-method-chain" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>After exporting the UTXOs from the source chain, it stays in the exported atomic
memory that is these are neither on the source chain nor on the destination chain.
Paste the following snippets into a new file <code class="short-inline-codeblock">importP.js</code>.</p>
<h3 id="import-dependencies" class="group scroll-mt-24">Import Dependencies<a href="#import-dependencies" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>We will require <code class="short-inline-codeblock">ImportTx</code> from PlatformVM APIs.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const {</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  keyChains,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  chainIDs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  addressStrings,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  BN,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>  platform,</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>} = require(&quot;../importAPI&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const { UnsignedTx, ImportTx } = require(&quot;dijets/dist/apis/platformvm/index&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->14</span><div style="display:inline-block;margin-left:16px"><span>const { createInputsAndOutputs } = require(&quot;../createMultisig&quot;)</span></div></div><br/></code></div></div>
<h3 id="send-import-transaction" class="group scroll-mt-24">Send Import Transaction<a href="#send-import-transaction" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>The <code class="short-inline-codeblock">importP()</code> is a simple function that will use UTXOs on the exported atomic
memory as its inputs and create an output on the Method Chain addresses. You can
change the output config&#x27;s owners and amount as per your need.</p>
<p>An important point to note here is that all UTXOs that are included in this
<code class="short-inline-codeblock">importTx</code> will be transferred to the destination chain. Even if the import
amount is less than the amount in the UTXO, it will be sent to the qualified
spender on the destination chain as a change output.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>async function importP() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  let memo = Buffer.from(&quot;Multisig Import Tx&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  // Use this parameter if you have UTXOs exported from other chains - only exported outputs will be fetched</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  let sourceChain = &quot;Value&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  // unlock amount = sum(output amount) + fee</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  let fee = new BN(1e6)</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  let outputConfig = [</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>      amount: new BN(1e6),</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>      owners: addresses.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>      threshold: 2,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>      amount: new BN(1e2),</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>      owners: addresses.p[0],</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>      threshold: 1,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  ]</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  // all the inputs here are the exported ones due to source chain parameter</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  let { inputs, outputs } = await createInputsAndOutputs(</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    addresses.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    addressStrings.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    outputConfig,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    fee,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    sourceChain</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  const importTx = new ImportTx(</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    outputs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    [],</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    memo,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>    inputs</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  const unsignedTx = new UnsignedTx(importTx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  const tx = unsignedTx.sign(keyChains.x)</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  const txID = await platform.issueTx(tx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>  console.log(&quot;TxID:&quot;, txID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->48</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>In the above image, we are consuming the above exported UTXOs with amounts
<code class="short-inline-codeblock">0.003</code> and <code class="short-inline-codeblock">0.1</code>, and generating outputs with amount <code class="short-inline-codeblock">0.092...</code> (change output
imported on Method Chain) and 2 <code class="short-inline-codeblock">0.005</code> imported outputs (1 multi-sig and 1
single-sig). The remaining <code class="short-inline-codeblock">0.001</code> is burned as transaction fees.</p>
<h2 id="import-multi-sig-utxo-from-x-to-utility-chain" class="group scroll-mt-24">Import Multi-Sig UTXO From X to Utility Chain<a href="#import-multi-sig-utxo-from-x-to-utility-chain" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>This transaction will also be similar to other atomic transactions, except for
the <code class="short-inline-codeblock">outputConfig</code> parameter. You can easily get the idea by looking at the code
below. Before you can run this example, there must be exported outputs for the
addresses you control on the Utility Chain, otherwise, there will be no UTXO to
consume.</p>
<p>Here we are importing UTXOs that are exported from Value Chain.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>const {</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  keyChains,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  chainIDs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  addressStrings,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  BN,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  evm,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>} = require(&quot;../importAPI&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>const { UnsignedTx, ImportTx } = require(&quot;dijets/dist/apis/evm/index&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>const { createInputsAndOutputs } = require(&quot;../createMultisig&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>async function importP() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  // Use this parameter if you have UTXOs exported from other chains - only exported outputs will be fetched</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  let sourceChain = &quot;X&quot;</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  // unlock amount = sum(output amount) + fee (fees on Utility Chain is dynamic)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  let fee = new BN(0)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  let outputConfig = [</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>      amount: new BN(1e4),</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>      owners: &quot;0x4406a53c35D05424966bD8FC354E05a3c6B56aF0&quot;,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>      amount: new BN(2e4),</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>      owners: &quot;0x3b0e59fc2e9a82fa5eb3f042bc5151298e4f2cab&quot;,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  ]</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  // all the inputs here are the exported ones due to source chain parameter</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  let { inputs, outputs } = await createInputsAndOutputs(</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.c,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    addresses.c,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    addressStrings.c,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    outputConfig,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    fee,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    sourceChain</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  const importTx = new ImportTx(</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.c,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.x,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    inputs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>    outputs</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  const unsignedTx = new UnsignedTx(importTx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  const tx = unsignedTx.sign(keyChains.x)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  const txID = await evm.issueTx(tx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>  console.log(&quot;TxID:&quot;, txID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->59</span><div style="display:inline-block;margin-left:16px"><span>importP()</span></div></div><br/></code></div></div>
<p>You can use Dijets Utility Chain Explorer to view, import and export transactions on Utility Chain.</p>
<h2 id="add-delegator-transaction" class="group scroll-mt-24">Add Delegator Transaction<a href="#add-delegator-transaction" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h2>
<p>Till now we have covered common transactions like BaseTx, Export, and Import TX.
Export and Import TX will be similar in all the UTXO-based chains like X and P.
But for Account-based chains, we have to deal with an account-balance system.</p>
<p>Now let&#x27;s try using the multi-sig UTXOs exported from Value Chain to Method Chain to
issue an <code class="short-inline-codeblock">addDelegator()</code> transaction. Create a file <code class="short-inline-codeblock">addDelegatorTx.js</code> and
paste the following snippets.</p>
<h3 id="import-dependencies" class="group scroll-mt-24">Import Dependencies<a href="#import-dependencies" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Import the dependencies like <code class="short-inline-codeblock">AddDelegatorTx</code> and <code class="short-inline-codeblock">UnsignedTx</code> classes using the following code.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const {</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  keyChains,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  chainIDs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  addresses,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  addressStrings,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  BN,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  platform,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>} = require(&quot;../importAPI&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const {</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  UnsignedTx,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  AddDelegatorTx,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  SECPOwnerOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>  ParseableOutput,</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>} = require(&quot;dijets/dist/apis/platformvm/index&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const { NodeIDStringToBuffer, UnixNow } = require(&quot;dijets/dist/utils&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->21</span><div style="display:inline-block;margin-left:16px"><span>const { createInputsAndOutputs } = require(&quot;../createMultisig&quot;)</span></div></div><br/></code></div></div>
<h3 id="sending-adddelegator-transaction" class="group scroll-mt-24">Sending AddDelegator Transaction<a href="#sending-adddelegator-transaction" class="ml-2 opacity-0 group-hover:opacity-100 transition">#</a></h3>
<p>Now we will create the <code class="short-inline-codeblock">addDelegator()</code> function which will use the multi-sig
UTXOs and create a signed <code class="short-inline-codeblock">addDelegatorTx</code>, which when issued, will add the
delegator to the specified node. Paste the following snippet next.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>async function addDelegator() {</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let nodeID = NodeIDStringToBuffer(&quot;NodeID-4B4rc5vdD1758JSBYL1xyvE5NHGzz6xzH&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let locktime = new BN(0)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let stakeAmount = await platform.getMinStake()</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let startTime = UnixNow().add(new BN(60 * 1))</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let endTime = startTime.add(new BN(2630000))</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let memo = Buffer.from(&quot;Multi-sig Add Delegator Tx&quot;)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  // unlock amount = sum(output amounts) + fee</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let fee = new BN(1e6)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  // creating stake amount output at 0th index</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let outputConfig = [</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    {</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>      amount: stakeAmount.minValidatorStake,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>      owners: addresses.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>      threshold: 2,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    },</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  ]</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  // outputs to be created for rewards</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  const rewardOutputOwners = new SECPOwnerOutput(addresses.p, locktime, 2)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  const rewardOwners = new ParseableOutput(rewardOutputOwners)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  let { inputs, outputs } = await createInputsAndOutputs(</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    djtxAssetID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    addresses.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    addressStrings.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    outputConfig,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    fee</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  const addDelegatorTx = new AddDelegatorTx(</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    networkID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    chainIDs.p,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    [],</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    inputs,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    memo,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    nodeID,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    startTime,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    endTime,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    stakeAmount.minDelegatorStake,</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    [outputs[0]],</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>    rewardOwners</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  )</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  const unsignedTx = new UnsignedTx(addDelegatorTx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  const tx = unsignedTx.sign(keyChains.p)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  const txID = await platform.issueTx(tx)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>  console.log(&quot;TxID:&quot;, txID)</span></div></div><div><span class="ch-code-line-number">_<!-- -->52</span><div style="display:inline-block;margin-left:16px"><span>}</span></div></div><br/></code></div></div>
<p>In the above transaction, the <code class="short-inline-codeblock">outputs</code> parameter will be empty since we do not need
to transfer any assets to the account. As you can see above we need to create
another type of output, for indicating the reward for delegation.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const rewardOutputOwners = new SECPOwnerOutput(addresses.p, locktime, 2)</span></div></div><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>const rewardOwners = new ParseableOutput(rewardOutputOwners)</span></div></div><br/></code></div></div>
<p>Call the function by adding the below function call.</p>
<div class="ch-codeblock not-prose "><div class="ch-code" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto"><code class="ch-code-scroll-parent"><br/><div><span class="ch-code-line-number">_<!-- -->10</span><div style="display:inline-block;margin-left:16px"><span>addDelegator()</span></div></div><br/></code></div></div>
<p>Run this file using <code class="short-inline-codeblock">node examples/addDelegatorTx.js</code>, see the txID in the
output, and look for it in the Dijets Unified explorer.</p><div class="mt-16 not-prose"></div></article></div></div></div><div class="max-w-7xl px-5 mx-auto py-16 pt-0"><div class="mt-16"><ul class="flex flex-col gap-2"><li class="flex items-center gap-1 text-xs text-scale-900"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="sbui-icon "><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line></svg><p>Need some help?</p><a class="text-brand-900 hover:underline" target="_blank" rel="noreferrer noopener" href="https://qowalts.dijets.io">Contact support</a></li><li class="flex items-center gap-1 text-xs text-scale-900"><svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.9521 10.5073C12.766 10.3212 12.5289 10.1943 12.2708 10.1427L10.6794 9.82467C9.80719 9.65024 8.90169 9.77152 8.10609 10.1693L7.89409 10.2747C7.0985 10.6725 6.193 10.7938 5.32076 10.6193L4.03343 10.362C3.81823 10.319 3.59574 10.3298 3.38571 10.3934C3.17569 10.457 2.9846 10.5715 2.82943 10.7267M5.33343 2.88867H10.6668L10.0001 3.55534V7.00334C10.0002 7.35693 10.1407 7.69602 10.3908 7.94601L13.7241 11.2793C14.5641 12.1193 13.9688 13.5553 12.7808 13.5553H3.21876C2.03076 13.5553 1.43609 12.1193 2.27609 11.2793L5.60943 7.94601C5.85949 7.69602 6.00002 7.35693 6.00009 7.00334V3.55534L5.33343 2.88867Z" stroke="var(--colors-scale9)" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"></path></svg><p>Resource Hub</p><a class="text-brand-900 hover:underline" target="_blank" rel="noreferrer noopener" href="https://dijets.io/resource-hub">Dijets Inc.</a></li><li class="flex items-center gap-1 text-xs text-scale-900"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="sbui-icon "><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg><p>Something&#x27;s not right?</p><a class="text-brand-900 hover:underline" target="_blank" rel="noreferrer noopener" href="https://dijets.statuspage.io/">Check system status</a></li></ul></div><hr class="border-scale-400 my-6"/><div class="flex gap-4 items-center justify-between"><div class="flex flex-col lg:flex-row gap-3 "><a class="text-xs text-scale-900" href="https://dijets.io/">Â© Dijets Inc</a><span class="text-xs text-scale-900">â</span><a class="text-xs text-scale-800 hover:underline" href="/docs/handbook/contributing">Contributing</a><a class="text-xs text-scale-800 hover:underline" href="https://core-council.dijets.io">Dijets Governance Docs</a><a class="text-xs text-scale-800 hover:underline" href="https://support.dijets.co.uk">Dijets Knowledgebase</a><a class="text-xs text-scale-800 hover:underline" href="https://forum.dijets.io">DGC Forum</a></div><div class="flex items-center gap-2"><a href="https://github.com/Dijets-Inc" target="_blank" rel="noreferrer noopener" class=" relative cursor-pointer inline-flex items-center space-x-2 text-center font-regular transition ease-out duration-200 rounded outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1   text-scale-1200 hover:bg-scale-500 shadow-none focus-visible:outline-scale-700  text-xs px-2.5 py-1"><span class="truncate"><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.66832 1.55469C4.98649 1.55469 2.00195 4.54402 2.00195 8.23269C2.00195 11.1827 3.91187 13.686 6.56108 14.5687C6.8944 14.63 7.01573 14.424 7.01573 14.2467C7.01573 14.0887 7.0104 13.668 7.00706 13.1114C5.15248 13.5147 4.76116 12.216 4.76116 12.216C4.45851 11.444 4.0212 11.2387 4.0212 11.2387C3.41589 10.8254 4.06719 10.8334 4.06719 10.8334C4.73583 10.88 5.08782 11.5214 5.08782 11.5214C5.68246 12.5414 6.64841 12.2467 7.02773 12.076C7.08906 11.6447 7.26105 11.3507 7.45171 11.184C5.97178 11.0154 4.41518 10.442 4.41518 7.88335C4.41518 7.15469 4.67517 6.55802 5.10115 6.09135C5.03248 5.92269 4.80383 5.24335 5.16648 4.32469C5.16648 4.32469 5.72645 4.14469 6.99973 5.00869C7.54355 4.86036 8.10464 4.78482 8.66832 4.78402C9.23496 4.78669 9.80494 4.86069 10.3376 5.00869C11.6102 4.14469 12.1688 4.32402 12.1688 4.32402C12.5328 5.24335 12.3035 5.92269 12.2355 6.09135C12.6621 6.55802 12.9208 7.15469 12.9208 7.88335C12.9208 10.4487 11.3615 11.0134 9.87694 11.1787C10.1163 11.3847 10.3289 11.792 10.3289 12.4154C10.3289 13.3074 10.3209 14.028 10.3209 14.2467C10.3209 14.4254 10.4409 14.6334 10.7796 14.568C12.107 14.1228 13.261 13.2716 14.0784 12.1347C14.8958 10.9979 15.3353 9.6329 15.3347 8.23269C15.3347 4.54402 12.3495 1.55469 8.66832 1.55469Z" fill="var(--colors-scale9)"></path></svg></span></a><a href="https://support.dijets.co.uk/docs/create-wallet/" target="_blank" rel="noreferrer noopener" class=" relative cursor-pointer inline-flex items-center space-x-2 text-center font-regular transition ease-out duration-200 rounded outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1   text-scale-1200 hover:bg-scale-500 shadow-none focus-visible:outline-scale-700  text-xs px-2.5 py-1"><span class="truncate"><svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.665 4.35595C15.481 3.66308 14.9388 3.11739 14.2505 2.93221C13.0028 2.5957 7.99964 2.5957 7.99964 2.5957C7.99964 2.5957 2.99655 2.5957 1.74883 2.93221C1.06047 3.11742 0.518326 3.66308 0.334321 4.35595C0 5.61181 0 8.23207 0 8.23207C0 8.23207 0 10.8523 0.334321 12.1082C0.518326 12.8011 1.06047 13.324 1.74883 13.5092C2.99655 13.8457 7.99964 13.8457 7.99964 13.8457C7.99964 13.8457 13.0027 13.8457 14.2505 13.5092C14.9388 13.324 15.481 12.8011 15.665 12.1082C15.9993 10.8523 15.9993 8.23207 15.9993 8.23207C15.9993 8.23207 15.9993 5.61181 15.665 4.35595ZM6.36334 10.6111V5.85307L10.545 8.23212L6.36334 10.6111Z" fill="var(--colors-scale9)"></path></svg></span></a><a href="https://twitter.com/OfficialDijets" target="_blank" rel="noreferrer noopener" class=" relative cursor-pointer inline-flex items-center space-x-2 text-center font-regular transition ease-out duration-200 rounded outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1   text-scale-1200 hover:bg-scale-500 shadow-none focus-visible:outline-scale-700  text-xs px-2.5 py-1"><span class="truncate"><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.52713 13.7223C10.5582 13.7223 13.3101 9.55365 13.3101 5.93898C13.3101 5.82032 13.3101 5.70232 13.3021 5.58565C13.8375 5.198 14.2996 4.71806 14.6667 4.16832C14.1675 4.38965 13.6378 4.53483 13.0955 4.59898C13.6665 4.25702 14.0939 3.71922 14.2981 3.08565C13.7612 3.40424 13.1739 3.6288 12.5615 3.74965C12.1491 3.31083 11.6035 3.02021 11.0093 2.92279C10.4151 2.82537 9.80528 2.92658 9.27438 3.21076C8.74347 3.49494 8.32106 3.94623 8.07255 4.49476C7.82403 5.04328 7.76328 5.65844 7.89969 6.24498C6.81213 6.19048 5.74819 5.90787 4.77693 5.4155C3.80567 4.92313 2.9488 4.232 2.26194 3.38698C1.91217 3.98912 1.80502 4.70193 1.96231 5.38029C2.1196 6.05866 2.52951 6.65157 3.10857 7.03832C2.67343 7.02572 2.2477 6.90865 1.86729 6.69698V6.73165C1.86755 7.36318 2.08621 7.97519 2.4862 8.46389C2.88618 8.95259 3.44287 9.28791 4.06186 9.41298C3.65909 9.52279 3.2365 9.53876 2.82658 9.45965C3.00135 10.0033 3.34168 10.4787 3.79996 10.8194C4.25824 11.1601 4.81154 11.349 5.38247 11.3597C4.81524 11.8054 4.16572 12.1349 3.47104 12.3293C2.77636 12.5238 2.05017 12.5794 1.33398 12.493C2.585 13.2959 4.04066 13.7217 5.52713 13.7197" fill="var(--colors-scale9)"></path></svg></span></a><a href="https://qowalts.dijets.io" target="_blank" rel="noreferrer noopener" class=" relative cursor-pointer inline-flex items-center space-x-2 text-center font-regular transition ease-out duration-200 rounded outline-none transition-all outline-0 focus-visible:outline-4 focus-visible:outline-offset-1   text-scale-1200 hover:bg-scale-500 shadow-none focus-visible:outline-scale-700  text-xs px-2.5 py-1"><span class="truncate"><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_1182_99731)"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.514,5.458c0-1.634,1.331-2.958,2.972-2.958h6.112c1.641,0,2.972,1.324,2.972,2.958v6.083c0,1.634-1.331,2.958-2.972,2.958H5.486c-1.641,0-2.972-1.324-2.972-2.958V5.458Zm3.866-.138h-1.31c-.045,0-.067,.023-.067,.068v2.602c0,.045,.022,.068,.067,.068h.994c.042,0,.059,.011,.056,.055-.005,.077-.005,.154-.008,.232-.017,.405-.223,.703-.544,.929-.155,.109-.339,.15-.522,.186-.031,.006-.043,.018-.043,.05,0,.321,0,.642,0,.963,0,.037,.013,.049,.048,.044,.089-.011,.179-.019,.267-.03,.423-.057,.832-.163,1.21-.368,.457-.248,.79-.61,.993-1.087,.175-.41,.239-.841,.24-1.282,.002-.789,0-1.58,.002-2.369,0-.049-.016-.06-.062-.06-.44,.002-.88,0-1.321,0h0Z" fill="var(--colors-scale9)"></path></g><defs><clipPath id="clip0_1182_99731"><rect width="15.9993" height="16" fill="white" transform="translate(0.333984 0.222656)"></rect></clipPath></defs></svg></span></a></div></div></div></div><div class="h-full left-0 right-0 z-10 backdrop-blur-sm backdrop-filter bg-white-1200 dark:bg-scale-200/90 hidden h-0 lg:hidden"></div></div></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/guides/getting-started/tutorials/multisig-utxos","query":{},"buildId":"RCEl81Est0ovedfbxpc__","assetPrefix":"/docs","nextExport":true,"autoExport":true,"isFallback":false,"dynamicIds":[87163],"scriptLoader":[]}</script></body></html>